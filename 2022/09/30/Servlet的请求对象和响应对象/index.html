<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘Servletçš„è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡ | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="Java,Servlet">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘Servletçš„è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡"/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘Servletçš„è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2022/09/30/Servletçš„è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡/" rel="bookmark">
        <time class="entry-date published" datetime="2022-09-30T01:49:36.000Z">
          2022-09-30
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Servletçš„è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡</p>
<span id="more"></span>

<h2 id="Requestè¯·æ±‚å¯¹è±¡"><a href="#Requestè¯·æ±‚å¯¹è±¡" class="headerlink" title="Requestè¯·æ±‚å¯¹è±¡"></a>Requestè¯·æ±‚å¯¹è±¡</h2><ul>
<li>è§£æä»å®¢æˆ·ç«¯ä¼ é€’çš„è¯·æ±‚æ•°æ®</li>
</ul>
<blockquote>
<p><code>req</code>ï¼šè¯·æ±‚å¯¹è±¡</p>
</blockquote>
<h3 id="è§£æè¯·æ±‚è¡Œ"><a href="#è§£æè¯·æ±‚è¡Œ" class="headerlink" title="è§£æè¯·æ±‚è¡Œ"></a>è§£æè¯·æ±‚è¡Œ</h3><h4 id="è·å–è¯·æ±‚æ–¹å¼"><a href="#è·å–è¯·æ±‚æ–¹å¼" class="headerlink" title="è·å–è¯·æ±‚æ–¹å¼"></a>è·å–è¯·æ±‚æ–¹å¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getMethod();</span><br></pre></td></tr></table></figure>

<h4 id="è·å–è®¿é—®è·¯å¾„"><a href="#è·å–è®¿é—®è·¯å¾„" class="headerlink" title="è·å–è®¿é—®è·¯å¾„"></a>è·å–è®¿é—®è·¯å¾„</h4><ul>
<li><code>http://example.com/dir/file?key=value</code>ä¸­çš„<code>/dir</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getContextPath();</span><br></pre></td></tr></table></figure>

<h4 id="è·å–å®Œæ•´è¯·æ±‚è·¯å¾„"><a href="#è·å–å®Œæ•´è¯·æ±‚è·¯å¾„" class="headerlink" title="è·å–å®Œæ•´è¯·æ±‚è·¯å¾„"></a>è·å–å®Œæ•´è¯·æ±‚è·¯å¾„</h4><ul>
<li><p>è¿”å›StringBuffer</p>
</li>
<li><p><code>http://example.com/dir/file?key=value</code>ä¸­çš„<code>http://example.com/dir/file</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getRequestURL();</span><br></pre></td></tr></table></figure>

<h4 id="è·å–å½“å‰é¡¹ç›®çš„è¯·æ±‚è·¯å¾„"><a href="#è·å–å½“å‰é¡¹ç›®çš„è¯·æ±‚è·¯å¾„" class="headerlink" title="è·å–å½“å‰é¡¹ç›®çš„è¯·æ±‚è·¯å¾„"></a>è·å–å½“å‰é¡¹ç›®çš„è¯·æ±‚è·¯å¾„</h4><ul>
<li><code>http://example.com/dir/file?key=value</code>ä¸­çš„<code>/dir/file</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getRequestURI();</span><br></pre></td></tr></table></figure>

<h4 id="è·å–è¯·æ±‚å‚æ•°"><a href="#è·å–è¯·æ±‚å‚æ•°" class="headerlink" title="è·å–è¯·æ±‚å‚æ•°"></a>è·å–è¯·æ±‚å‚æ•°</h4><ul>
<li><code>http://example.com/dir/file?key=value</code>ä¸­çš„<code>key=value</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getQueryString();</span><br></pre></td></tr></table></figure>

<h5 id="Requestä¸­çš„é€šç”¨æ–¹æ³•å¤„ç†è¯·æ±‚å‚æ•°"><a href="#Requestä¸­çš„é€šç”¨æ–¹æ³•å¤„ç†è¯·æ±‚å‚æ•°" class="headerlink" title="Requestä¸­çš„é€šç”¨æ–¹æ³•å¤„ç†è¯·æ±‚å‚æ•°"></a>Requestä¸­çš„é€šç”¨æ–¹æ³•å¤„ç†è¯·æ±‚å‚æ•°</h5><h6 id="è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°"><a href="#è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°" class="headerlink" title="è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°"></a>è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String[]&gt; map = req.getParameterMap();</span><br></pre></td></tr></table></figure>

<h6 id="æ ¹æ®æŒ‡å®šå‚æ•°åè·å–ä¸€ä¸ªå‚æ•°å€¼"><a href="#æ ¹æ®æŒ‡å®šå‚æ•°åè·å–ä¸€ä¸ªå‚æ•°å€¼" class="headerlink" title="æ ¹æ®æŒ‡å®šå‚æ•°åè·å–ä¸€ä¸ªå‚æ•°å€¼"></a>æ ¹æ®æŒ‡å®šå‚æ•°åè·å–ä¸€ä¸ªå‚æ•°å€¼</h6><blockquote>
<p><code>&lt;key&gt;</code>ï¼šè¯·æ±‚å‚æ•°å</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;&lt;key&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>

<h6 id="æ ¹æ®æŒ‡å®šå‚æ•°åè·å–æ‰€æœ‰å‚æ•°å€¼"><a href="#æ ¹æ®æŒ‡å®šå‚æ•°åè·å–æ‰€æœ‰å‚æ•°å€¼" class="headerlink" title="æ ¹æ®æŒ‡å®šå‚æ•°åè·å–æ‰€æœ‰å‚æ•°å€¼"></a>æ ¹æ®æŒ‡å®šå‚æ•°åè·å–æ‰€æœ‰å‚æ•°å€¼</h6><ul>
<li>å¦‚æœæœ‰å¤šä¸ªåŒåçš„è¯·æ±‚å‚æ•°ï¼Œé‚£ä¹ˆæ‰€æœ‰è¯·æ±‚å€¼ä¼šä½œä¸ºå­—ç¬¦ä¸²æ•°ç»„è¿”å›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String[] values = req.getParameterValues(<span class="string">&quot;&lt;key&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="è§£å†³è¯·æ±‚å‚æ•°çš„ä¸­æ–‡ä¹±ç "><a href="#è§£å†³è¯·æ±‚å‚æ•°çš„ä¸­æ–‡ä¹±ç " class="headerlink" title="è§£å†³è¯·æ±‚å‚æ•°çš„ä¸­æ–‡ä¹±ç "></a>è§£å†³è¯·æ±‚å‚æ•°çš„ä¸­æ–‡ä¹±ç </h5><ul>
<li>ç”±äºTomcat8ä¹‹å‰é»˜è®¤ä½¿ç”¨çš„URLè§£ç æ–¹å¼æ˜¯ISO-8859-1ï¼Œè€Œå‰ç«¯URLç¼–ç æ–¹å¼æ˜¯UTF-8ï¼Œæ‰€ä»¥å‡ºç°äº†ä¸­æ–‡ä¹±ç </li>
<li>Tomcat8åŠä¹‹åä½¿ç”¨çš„URLè§£ç æ–¹å¼æ˜¯UTF-8ï¼Œæ‰€ä»¥ä¸éœ€è¦è§£å†³ä¸­æ–‡ä¹±ç </li>
</ul>
<h6 id="Getè¯·æ±‚æˆ–Postè¯·æ±‚"><a href="#Getè¯·æ±‚æˆ–Postè¯·æ±‚" class="headerlink" title="Getè¯·æ±‚æˆ–Postè¯·æ±‚"></a>Getè¯·æ±‚æˆ–Postè¯·æ±‚</h6><ul>
<li>å…ˆå°†ISO-8859-1çš„æ•°æ®è½¬æ¢æˆå­—èŠ‚æ•°ç»„ï¼Œå†å°†å­—èŠ‚æ•°ç»„æ ¹æ®UTF-8ç¼–ç è½¬æ¢æˆå­—ç¬¦ä¸²</li>
</ul>
<blockquote>
<p><code>value</code>ï¼šé€šè¿‡<code>req.getParameter(&quot;&quot;)</code>è·å–çš„å‡ºç°ä¸­æ–‡ä¹±ç çš„å‚æ•°å€¼ </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] bytes = value.getBytes(<span class="string">&quot;ISO-8859-1&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="string">&quot;utf-8&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] bytes = value.getBytes(StandardCharsets.ISO_8859_1);</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes, StandardCharsets.UTF_8 );</span><br></pre></td></tr></table></figure>

<h6 id="Postè¯·æ±‚"><a href="#Postè¯·æ±‚" class="headerlink" title="Postè¯·æ±‚"></a>Postè¯·æ±‚</h6><ul>
<li>å› ä¸ºPostè¯·æ±‚å‚æ•°çš„å¤„ç†æ–¹å¼æ˜¯å­—ç¬¦è¾“å…¥æµï¼Œæ‰€ä»¥åªéœ€è¦åœ¨å¤„ç†è¯·æ±‚å‚æ•°ä¹‹å‰ï¼Œä¿®æ”¹å­—ç¬¦è¾“å…¥æµçš„å­—ç¬¦ç¼–ç ä¸ºUTF-8å³å¯è§£å†³ä¸­æ–‡ä¹±ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="è§£æè¯·æ±‚å¤´"><a href="#è§£æè¯·æ±‚å¤´" class="headerlink" title="è§£æè¯·æ±‚å¤´"></a>è§£æè¯·æ±‚å¤´</h3><blockquote>
<p><code>&lt;key&gt;</code>ï¼šæ ¹æ®è¯·æ±‚å¤´çš„é”®è·å–å€¼</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getHeader(<span class="string">&quot;&lt;key&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="è§£æè¯·æ±‚ä½“"><a href="#è§£æè¯·æ±‚ä½“" class="headerlink" title="è§£æè¯·æ±‚ä½“"></a>è§£æè¯·æ±‚ä½“</h3><h4 id="å­—ç¬¦è¾“å…¥æµ"><a href="#å­—ç¬¦è¾“å…¥æµ" class="headerlink" title="å­—ç¬¦è¾“å…¥æµ"></a>å­—ç¬¦è¾“å…¥æµ</h4><ul>
<li>è¿”å›BufferedReaderå¯¹è±¡</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> req.getReader();</span><br><span class="line"><span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> br.readLine();</span><br></pre></td></tr></table></figure>

<h4 id="å­—èŠ‚è¾“å…¥æµ"><a href="#å­—èŠ‚è¾“å…¥æµ" class="headerlink" title="å­—èŠ‚è¾“å…¥æµ"></a>å­—èŠ‚è¾“å…¥æµ</h4><ul>
<li>è¿”å›ServletInputStreamå¯¹è±¡</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getInputStream();</span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚è½¬å‘"><a href="#è¯·æ±‚è½¬å‘" class="headerlink" title="è¯·æ±‚è½¬å‘"></a>è¯·æ±‚è½¬å‘</h3><ul>
<li>è¯·æ±‚è½¬å‘æ—¶ï¼Œå®¢æˆ·ç«¯åœ°å€æ ä¸å‘ç”Ÿæ”¹å˜</li>
<li>è¯·æ±‚è½¬å‘åªèƒ½è½¬å‘ç»™æœåŠ¡å™¨å†…éƒ¨èµ„æº</li>
<li>æ•´ä¸ªè¿‡ç¨‹ç»å†1æ¬¡è¯·æ±‚1æ¬¡å“åº”</li>
<li>è¯·æ±‚è½¬å‘æ—¶ï¼Œå¯ä»¥é€šè¿‡requestæºå¸¦æ•°æ®</li>
</ul>
<blockquote>
<p><code>&lt;url&gt;</code>ï¼šè¯·æ±‚è½¬å‘çš„ç›®æ ‡èµ„æºè·¯å¾„ï¼Œä¸éœ€è¦åŠ è™šæ‹Ÿç›®å½•<br><code>req</code>ï¼šè¯·æ±‚å¯¹è±¡<br><code>resp</code>ï¼šå“åº”å¯¹è±¡</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getRequestDispatcher(<span class="string">&quot;&lt;url&gt;&quot;</span>).forward(req, resp);</span><br></pre></td></tr></table></figure>

<h4 id="è¯·æ±‚è½¬å‘æ—¶æºå¸¦æ•°æ®"><a href="#è¯·æ±‚è½¬å‘æ—¶æºå¸¦æ•°æ®" class="headerlink" title="è¯·æ±‚è½¬å‘æ—¶æºå¸¦æ•°æ®"></a>è¯·æ±‚è½¬å‘æ—¶æºå¸¦æ•°æ®</h4><h5 id="å­˜å‚¨æ•°æ®"><a href="#å­˜å‚¨æ•°æ®" class="headerlink" title="å­˜å‚¨æ•°æ®"></a>å­˜å‚¨æ•°æ®</h5><blockquote>
<p><code>&lt;key&gt;</code>ï¼šé”®<br><code>&lt;value&gt;</code>ï¼šå€¼</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.setAttribute(<span class="string">&quot;&lt;key&gt;&quot;</span>, &lt;value&gt;);</span><br></pre></td></tr></table></figure>

<h5 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®"></a>è·å–æ•°æ®</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getAttribute(<span class="string">&quot;&lt;key&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.removeAttribute(<span class="string">&quot;&lt;key&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Responseå“åº”å¯¹è±¡"><a href="#Responseå“åº”å¯¹è±¡" class="headerlink" title="Responseå“åº”å¯¹è±¡"></a>Responseå“åº”å¯¹è±¡</h2><ul>
<li>è®¾ç½®å‘é€ç»™å®¢æˆ·ç«¯çš„ç›¸åº”æ•°æ®</li>
</ul>
<blockquote>
<p><code>resp</code>ï¼šå“åº”å¯¹è±¡</p>
</blockquote>
<h3 id="è®¾ç½®å“åº”è¡Œ"><a href="#è®¾ç½®å“åº”è¡Œ" class="headerlink" title="è®¾ç½®å“åº”è¡Œ"></a>è®¾ç½®å“åº”è¡Œ</h3><h4 id="è®¾ç½®çŠ¶æ€ç "><a href="#è®¾ç½®çŠ¶æ€ç " class="headerlink" title="è®¾ç½®çŠ¶æ€ç "></a>è®¾ç½®çŠ¶æ€ç </h4><blockquote>
<p><code>&lt;code&gt;</code>ï¼šintç±»å‹çš„çŠ¶æ€ç </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resp.setStatus(&lt;code&gt;);</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®å“åº”å¤´"><a href="#è®¾ç½®å“åº”å¤´" class="headerlink" title="è®¾ç½®å“åº”å¤´"></a>è®¾ç½®å“åº”å¤´</h3><blockquote>
<p><code>&lt;key&gt;</code>ï¼šé”®<br><code>&lt;value&gt;</code>ï¼šå€¼</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setHeader(<span class="string">&quot;&lt;key&gt;&quot;</span>, <span class="string">&quot;&lt;value&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®å“åº”ä½“"><a href="#è®¾ç½®å“åº”ä½“" class="headerlink" title="è®¾ç½®å“åº”ä½“"></a>è®¾ç½®å“åº”ä½“</h3><h4 id="å­—ç¬¦è¾“å‡ºæµ"><a href="#å­—ç¬¦è¾“å‡ºæµ" class="headerlink" title="å­—ç¬¦è¾“å‡ºæµ"></a>å­—ç¬¦è¾“å‡ºæµ</h4><blockquote>
<p><code>&lt;str&gt;</code>ï¼šéœ€è¦å“åº”çš„æ•°æ®</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> getWriter();</span><br><span class="line">pw.write(<span class="string">&quot;&lt;str&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>è¾“å‡ºæµä¸éœ€è¦å…³é—­ï¼Œå½“respå¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè‡ªåŠ¨è¢«å…³é—­</li>
</ul>
<h5 id="è®¾ç½®å“åº”å¤´-1"><a href="#è®¾ç½®å“åº”å¤´-1" class="headerlink" title="è®¾ç½®å“åº”å¤´"></a>è®¾ç½®å“åº”å¤´</h5><ul>
<li>å¦‚æœå“åº”çš„æ•°æ®æ˜¯éœ€è¦è¢«æ¸²æŸ“çš„HTMLä»£ç ï¼Œéœ€è¦æå‰è®¾ç½®å“åº”å¤´</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resp.setHeader(<span class="string">&quot;content-type&quot;</span>, <span class="string">&quot;text/html&quot;</span>);</span><br><span class="line"><span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> getWriter();</span><br><span class="line">pw.write(<span class="string">&quot;&lt;str&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line"><span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> getWriter();</span><br><span class="line">pw.write(<span class="string">&quot;&lt;str&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="è§£å†³ä¸­æ–‡ä¹±ç "><a href="#è§£å†³ä¸­æ–‡ä¹±ç " class="headerlink" title="è§£å†³ä¸­æ–‡ä¹±ç "></a>è§£å†³ä¸­æ–‡ä¹±ç </h5><ul>
<li>Tomcatå“åº”æ•°æ®çš„é»˜è®¤ç¼–ç æ˜¯ISO-8859-1ï¼Œè€Œæµè§ˆå™¨é»˜è®¤ç¼–ç æ˜¯UTF-8ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä¸­æ–‡ä¹±ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resp.setHeader(<span class="string">&quot;content-type&quot;</span>, <span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line"><span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> getWriter();</span><br><span class="line">pw.write(<span class="string">&quot;&lt;str&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line"><span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> getWriter();</span><br><span class="line">pw.write(<span class="string">&quot;&lt;str&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="å­—èŠ‚è¾“å‡ºæµ"><a href="#å­—èŠ‚è¾“å‡ºæµ" class="headerlink" title="å­—èŠ‚è¾“å‡ºæµ"></a>å­—èŠ‚è¾“å‡ºæµ</h4><blockquote>
<p><code>&lt;value&gt;</code>ï¼šå­—èŠ‚æ•°æ®</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ServletOutputStream</span> <span class="variable">sos</span> <span class="operator">=</span> resp.getOutputStream();</span><br><span class="line">sos.write(&lt;value&gt;);</span><br></pre></td></tr></table></figure>

<h5 id="å“åº”æ–‡ä»¶"><a href="#å“åº”æ–‡ä»¶" class="headerlink" title="å“åº”æ–‡ä»¶"></a>å“åº”æ–‡ä»¶</h5><blockquote>
<p><code>&lt;file&gt;</code>ï¼šæ–‡ä»¶è·¯å¾„</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;&lt;file&gt;&quot;</span>);</span><br><span class="line"><span class="type">ServletOutputStream</span> <span class="variable">sos</span> <span class="operator">=</span> resp.getOutputStream();</span><br><span class="line"><span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> ((len = fis.read(buff)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    sos.write(buff, <span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br><span class="line">fis.close();</span><br></pre></td></tr></table></figure>

<h6 id="åˆ©ç”¨å·¥å…·ç±»"><a href="#åˆ©ç”¨å·¥å…·ç±»" class="headerlink" title="åˆ©ç”¨å·¥å…·ç±»"></a>åˆ©ç”¨å·¥å…·ç±»</h6><ul>
<li>åˆ©ç”¨å·¥å…·ç±»å®Œæˆæ–‡ä»¶æ‹·è´</li>
</ul>
<figure class="highlight xml"><figcaption><span>pom.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;&lt;file&gt;&quot;</span>);</span><br><span class="line"><span class="type">ServletOutputStream</span> <span class="variable">sos</span> <span class="operator">=</span> resp.getOutputStream();</span><br><span class="line">IOUtils.copy(fis, os);</span><br><span class="line">fis.close();</span><br></pre></td></tr></table></figure>

<h3 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h3><ul>
<li>é‡å®šå‘æ—¶ï¼Œå®¢æˆ·ç«¯åœ°å€æ ä¼šå‘ç”Ÿæ”¹å˜</li>
<li>é‡å®šå‘æ—¶ï¼ŒæœåŠ¡å™¨å†…éƒ¨èµ„æºå’Œå¤–éƒ¨èµ„æºéƒ½å¯ä»¥è¢«é‡å®šå‘</li>
<li>æ•´ä¸ªè¿‡ç¨‹ç»å†2æ¬¡è¯·æ±‚2æ¬¡å“åº”</li>
<li>é‡å®šå‘æ—¶ï¼Œä¸å¯ä»¥é€šè¿‡requestæºå¸¦æ•°æ®</li>
</ul>
<blockquote>
<p><code>&lt;url&gt;</code>ï¼šå“åº”é‡å®šå‘çš„ç›®æ ‡èµ„æºè·¯å¾„ï¼Œéœ€è¦åŠ è™šæ‹Ÿç›®å½•</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">resp.setStatus(<span class="number">302</span>);</span><br><span class="line">resp.setHeader(<span class="string">&quot;location&quot;</span>, <span class="string">&quot;&lt;url&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resp.sendRedirect(<span class="string">&quot;&lt;url&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸ºäº†è§£è€¦åˆï¼Œå¯ä»¥åŠ¨æ€æ‹¼æ¥è™šæ‹Ÿè·¯å¾„</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resp.sendRedirect(req.getContextPath + <span class="string">&quot;&lt;url&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="/302.html?target=https://www.bilibili.com/video/BV1Qf4y1T7Hx/">å“”å“©å“”å“©â€”â€”é»‘é©¬ç¨‹åºå‘˜</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java/">Java</a><a href="/tags/Servlet/">Servlet</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>