<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘SpringMVCå­¦ä¹ ç¬”è®° | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="Java,Spring">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘SpringMVCå­¦ä¹ ç¬”è®°"/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘SpringMVCå­¦ä¹ ç¬”è®°</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2022/10/12/SpringMVCå­¦ä¹ ç¬”è®°/" rel="bookmark">
        <time class="entry-date published" datetime="2022-10-12T09:32:32.000Z">
          2022-10-12
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>SpringMVCå­¦ä¹ ç¬”è®°</p>
<span id="more"></span>

<h2 id="åˆ©ç”¨Mavenåˆ›å»ºWebé¡¹ç›®"><a href="#åˆ©ç”¨Mavenåˆ›å»ºWebé¡¹ç›®" class="headerlink" title="åˆ©ç”¨Mavenåˆ›å»ºWebé¡¹ç›®"></a>åˆ©ç”¨Mavenåˆ›å»ºWebé¡¹ç›®</h2><p><a href="/2022/09/29/IDEA%E5%88%A9%E7%94%A8Maven%E5%88%9B%E5%BB%BAJavaweb%E9%A1%B9%E7%9B%AE/">ä¼ é€é—¨</a></p>
<h2 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h2><figure class="highlight xml"><figcaption><span>pom.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="å®šä¹‰Controllerç±»"><a href="#å®šä¹‰Controllerç±»" class="headerlink" title="å®šä¹‰Controllerç±»"></a>å®šä¹‰Controllerç±»</h2><figure class="highlight java"><figcaption><span>src/main/java/com/controller/UserController.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/method&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;key&#x27;:&#x27;value&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºSpringMVCå®¹å™¨é…ç½®ç±»"><a href="#åˆ›å»ºSpringMVCå®¹å™¨é…ç½®ç±»" class="headerlink" title="åˆ›å»ºSpringMVCå®¹å™¨é…ç½®ç±»"></a>åˆ›å»ºSpringMVCå®¹å™¨é…ç½®ç±»</h2><ul>
<li>å°†Controllerç±»äº¤ç»™SpringMVCå®¹å™¨ç®¡ç†</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.controller&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºServleté…ç½®ç±»"><a href="#åˆ›å»ºServleté…ç½®ç±»" class="headerlink" title="åˆ›å»ºServleté…ç½®ç±»"></a>åˆ›å»ºServleté…ç½®ç±»</h2><h3 id="ç»§æ‰¿å­ç±»ï¼ˆç”¨äºç®€åŒ–å¼€å‘ï¼‰"><a href="#ç»§æ‰¿å­ç±»ï¼ˆç”¨äºç®€åŒ–å¼€å‘ï¼‰" class="headerlink" title="ç»§æ‰¿å­ç±»ï¼ˆç”¨äºç®€åŒ–å¼€å‘ï¼‰"></a>ç»§æ‰¿å­ç±»ï¼ˆç”¨äºç®€åŒ–å¼€å‘ï¼‰</h3><ul>
<li>åˆ›å»ºServleté…ç½®ç±»ï¼Œç»§æ‰¿AbstractAnnotationConfigDispatcherServletInitializerç±»ï¼ŒåŠ è½½SpringMVCçš„é…ç½®ç±»</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/ServletContainersInitConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContainersInitConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractAnnotationConfigDispatcherServletInitializer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½Springå®¹å™¨çš„é…ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getRootConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½SpringMVCå®¹å™¨çš„é…ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getServletConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringMvcConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å½’SpringMVCç®¡ç†çš„è¯·æ±‚èŒƒå›´</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç»§æ‰¿çˆ¶ç±»ï¼ˆç”¨äºå­¦ä¹ åº•å±‚ï¼‰"><a href="#ç»§æ‰¿çˆ¶ç±»ï¼ˆç”¨äºå­¦ä¹ åº•å±‚ï¼‰" class="headerlink" title="ç»§æ‰¿çˆ¶ç±»ï¼ˆç”¨äºå­¦ä¹ åº•å±‚ï¼‰"></a>ç»§æ‰¿çˆ¶ç±»ï¼ˆç”¨äºå­¦ä¹ åº•å±‚ï¼‰</h3><ul>
<li>åˆ›å»ºServleté…ç½®ç±»ï¼Œç»§æ‰¿AbstractDispatcherServletInitializerç±»ï¼ŒåŠ è½½SpringMVCçš„é…ç½®ç±»</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/ServletContainersInitConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.WebApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.support.AnnotationConfigWebApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.support.AbstractDispatcherServletInitializer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContainersInitConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractDispatcherServletInitializer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½SpringMVCå®¹å™¨çš„é…ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createServletApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigWebApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigWebApplicationContext</span>();</span><br><span class="line">        applicationContext.register(SpringMvcConfig.class);</span><br><span class="line">        <span class="keyword">return</span> applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å½’SpringMVCç®¡ç†çš„è¯·æ±‚èŒƒå›´</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½Springå®¹å™¨çš„é…ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createRootApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ”¾è¡Œé™æ€é¡µé¢è®¿é—®è¯·æ±‚"><a href="#æ”¾è¡Œé™æ€é¡µé¢è®¿é—®è¯·æ±‚" class="headerlink" title="æ”¾è¡Œé™æ€é¡µé¢è®¿é—®è¯·æ±‚"></a>æ”¾è¡Œé™æ€é¡µé¢è®¿é—®è¯·æ±‚</h2><h3 id="åˆ›å»ºSpringMvcSupporté…ç½®ç±»"><a href="#åˆ›å»ºSpringMvcSupporté…ç½®ç±»" class="headerlink" title="åˆ›å»ºSpringMvcSupporté…ç½®ç±»"></a>åˆ›å»ºSpringMvcSupporté…ç½®ç±»</h3><ul>
<li>ç»§æ‰¿<code>WebMvcConfigurationSupport</code>ç±»ï¼Œé‡å†™<code>addResourceHandlers()</code>æ–¹æ³•å’Œ<code>addInterceptors()</code>æ–¹æ³•</li>
</ul>
<blockquote>
<p><code>addResourceHandler(&quot;/pages/**&quot;, &quot;/pages/&quot;)</code>ï¼šå½“è®¿é—®çš„èµ„æºè·¯å¾„ä¸º<code>/pages/**</code>æ—¶ï¼Œè®¿é—®é™æ€è·¯å¾„<code>/pages/</code>ä¸‹çš„èµ„æº</p>
</blockquote>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcSupport.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcSupport</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/pages/**&quot;</span>, <span class="string">&quot;/pages/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/css/**&quot;</span>, <span class="string">&quot;/pages/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/js/**&quot;</span>, <span class="string">&quot;/pages/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨SpringMVCå®¹å™¨é…ç½®ç±»æ·»åŠ åŒ…æ‰«æèŒƒå›´"><a href="#åœ¨SpringMVCå®¹å™¨é…ç½®ç±»æ·»åŠ åŒ…æ‰«æèŒƒå›´" class="headerlink" title="åœ¨SpringMVCå®¹å™¨é…ç½®ç±»æ·»åŠ åŒ…æ‰«æèŒƒå›´"></a>åœ¨SpringMVCå®¹å™¨é…ç½®ç±»æ·»åŠ åŒ…æ‰«æèŒƒå›´</h3><figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.controller&quot;, &quot;com.conf&quot;&#125;)</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸Springå®¹å™¨æ•´åˆ"><a href="#ä¸Springå®¹å™¨æ•´åˆ" class="headerlink" title="ä¸Springå®¹å™¨æ•´åˆ"></a>ä¸Springå®¹å™¨æ•´åˆ</h2><h3 id="åˆ›å»ºSpringå®¹å™¨é…ç½®ç±»"><a href="#åˆ›å»ºSpringå®¹å™¨é…ç½®ç±»" class="headerlink" title="åˆ›å»ºSpringå®¹å™¨é…ç½®ç±»"></a>åˆ›å»ºSpringå®¹å™¨é…ç½®ç±»</h3><ul>
<li>å› ä¸ºControllerç±»å·²ç»äº¤ç»™äº†SpringMVCå®¹å™¨ç®¡ç†ï¼Œæ‰€ä»¥åœ¨Springå®¹å™¨é…ç½®ç±»ä¸­æ’é™¤å¯¹Controllerçš„beanç®¡ç†</li>
</ul>
<blockquote>
<p><code>@ComponentScan()</code>ï¼šæŒ‡å®šåŒ…æ‰«æ</p>
<blockquote>
<p><code>value = &quot;&quot;</code>ï¼šæŒ‡å®šæ‰«æçš„åŒ…<br><code>excludeFilters = @ComponentScan.Filter()</code>ï¼šæŒ‡å®šæ’é™¤è¿‡æ»¤å™¨</p>
<blockquote>
<p><code>type</code>ï¼šè¿‡æ»¤å™¨ç±»å‹</p>
<blockquote>
<p><code>FilterType.ANNOTATION</code>ï¼šæ ¹æ®æ³¨è§£è¿‡æ»¤<br><code>FilterType.REGEX</code>ï¼šæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤<br><code>FilterType.CUSTOM</code>ï¼šæ ¹æ®ç”¨æˆ·è‡ªå®šä¹‰æ–¹å¼è¿‡æ»¤</p>
</blockquote>
<p><code>classes</code>ï¼šå¦‚æœè¿‡æ»¤ç±»å‹æ˜¯æ ¹æ®æ³¨è§£è¿‡æ»¤ï¼Œå¯ä»¥é€šè¿‡classesæŒ‡å®šè¿‡æ»¤çš„æ³¨è§£ç±»å‹</p>
</blockquote>
</blockquote>
</blockquote>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.FilterType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(</span></span><br><span class="line"><span class="meta">        value = &quot;com&quot;,</span></span><br><span class="line"><span class="meta">        excludeFilters = @ComponentScan.Filter(</span></span><br><span class="line"><span class="meta">                type = FilterType.ANNOTATION,</span></span><br><span class="line"><span class="meta">                classes = Controller.class</span></span><br><span class="line"><span class="meta">        )</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸å°†SpringMvcConfigç±»ä½œä¸ºé…ç½®ç±»"><a href="#ä¸å°†SpringMvcConfigç±»ä½œä¸ºé…ç½®ç±»" class="headerlink" title="ä¸å°†SpringMvcConfigç±»ä½œä¸ºé…ç½®ç±»"></a>ä¸å°†SpringMvcConfigç±»ä½œä¸ºé…ç½®ç±»</h3><ul>
<li>å› ä¸ºControllerå·²ç»äº¤ç»™äº†SpringMVCå®¹å™¨ç®¡ç†ï¼Œä¸ºäº†é˜²æ­¢Springå®¹å†æ¬¡ç®¡ç†Controllerï¼Œéœ€è¦æ³¨é‡ŠSpringMVCå®¹å™¨é…ç½®ç±»ä¸­çš„<code>@Configuration</code>æ³¨è§£</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.controller&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è®©tomcatæœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½Springå®¹å™¨"><a href="#è®©tomcatæœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½Springå®¹å™¨" class="headerlink" title="è®©tomcatæœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½Springå®¹å™¨"></a>è®©tomcatæœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½Springå®¹å™¨</h3><ul>
<li>åœ¨Servleté…ç½®ç±»ä¸­åŒæ—¶åŠ è½½Springå®¹å™¨</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/ServletContainersInitConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.WebApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.support.AnnotationConfigWebApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.support.AbstractDispatcherServletInitializer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContainersInitConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractDispatcherServletInitializer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½SpringMVCå®¹å™¨çš„é…ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createServletApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigWebApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigWebApplicationContext</span>();</span><br><span class="line">        applicationContext.register(SpringMvcConfig.class);</span><br><span class="line">        <span class="keyword">return</span> applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å½’SpringMVCç®¡ç†çš„è¯·æ±‚èŒƒå›´</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½Springå®¹å™¨çš„é…ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createRootApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigWebApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigWebApplicationContext</span>();</span><br><span class="line">        applicationContext.register(SpringConfig.class);</span><br><span class="line">        <span class="keyword">return</span> applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><h3 id="è§£å†³POSTè¯·æ±‚çš„ä¸­æ–‡ä¹±ç "><a href="#è§£å†³POSTè¯·æ±‚çš„ä¸­æ–‡ä¹±ç " class="headerlink" title="è§£å†³POSTè¯·æ±‚çš„ä¸­æ–‡ä¹±ç "></a>è§£å†³POSTè¯·æ±‚çš„ä¸­æ–‡ä¹±ç </h3><ul>
<li>åœ¨Servleté…ç½®ç±»ä¸­æ·»åŠ <code>getServletFilters()</code>è¿‡æ»¤å™¨é…ç½®æ–¹æ³•ï¼Œåˆ©ç”¨è¿‡æ»¤å™¨è§£å†³POSTè¯·æ±‚çš„ä¸­æ–‡ä¹±ç </li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/ServletContainersInitConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.WebApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.support.AnnotationConfigWebApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.filter.CharacterEncodingFilter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.support.AbstractDispatcherServletInitializer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.Filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContainersInitConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractDispatcherServletInitializer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½SpringMVCå®¹å™¨çš„é…ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createServletApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigWebApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigWebApplicationContext</span>();</span><br><span class="line">        applicationContext.register(SpringMvcConfig.class);</span><br><span class="line">        <span class="keyword">return</span> applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å½’SpringMVCç®¡ç†çš„è¯·æ±‚èŒƒå›´</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½Springå®¹å™¨çš„é…ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createRootApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigWebApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigWebApplicationContext</span>();</span><br><span class="line">        applicationContext.register(SpringConfig.class);</span><br><span class="line">        <span class="keyword">return</span> applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ è¿‡æ»¤å™¨é…ç½®</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Filter[] getServletFilters() &#123;</span><br><span class="line">        <span class="type">CharacterEncodingFilter</span> <span class="variable">characterEncodingFilter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CharacterEncodingFilter</span>();</span><br><span class="line">        characterEncodingFilter.setEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Filter</span>[]&#123;characterEncodingFilter&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¼€å¯JSONè¯·æ±‚è½¬æ¢å¯¹è±¡æ¥æ”¶"><a href="#å¼€å¯JSONè¯·æ±‚è½¬æ¢å¯¹è±¡æ¥æ”¶" class="headerlink" title="å¼€å¯JSONè¯·æ±‚è½¬æ¢å¯¹è±¡æ¥æ”¶"></a>å¼€å¯JSONè¯·æ±‚è½¬æ¢å¯¹è±¡æ¥æ”¶</h2><ul>
<li>åœ¨SpringMVCé…ç½®ç±»ä¸Šæ·»åŠ <code>@EnableWebMvc</code>æ³¨è§£</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.controller&quot;)</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h2><blockquote>
<p><code>@RequestParam</code>ï¼šç”¨äºå¤„ç†<code>application/x-www-form-urlencoded</code>è¡¨å•ä¼ å‚<br><code>@RequestBody</code>ï¼šç”¨äºå¤„ç†<code>application/json</code>è¯·æ±‚ä½“jsonæ ¼å¼ä¼ å‚</p>
</blockquote>
<h3 id="GETè¯·æ±‚"><a href="#GETè¯·æ±‚" class="headerlink" title="GETè¯·æ±‚"></a>GETè¯·æ±‚</h3><h4 id="åŸºæœ¬ç±»å‹è¯·æ±‚å‚æ•°"><a href="#åŸºæœ¬ç±»å‹è¯·æ±‚å‚æ•°" class="headerlink" title="åŸºæœ¬ç±»å‹è¯·æ±‚å‚æ•°"></a>åŸºæœ¬ç±»å‹è¯·æ±‚å‚æ•°</h4><ul>
<li>è¯·æ±‚å‚æ•°åä¸å½¢å‚åç›¸åŒæ—¶ï¼Œå¯ä»¥è‡ªåŠ¨è¿›è¡Œæ˜ å°„ï¼›è¯·æ±‚å‚æ•°åä¸å½¢å‚åä¸åŒæ—¶ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œæ˜ å°„</li>
<li>å½¢å‚æŒ‡å®šå¤šä¸ªç”¨äºæ¥æ”¶å¤šä¸ªè¯·æ±‚å‚æ•°ï¼Œå½¢å‚é¡ºåºå¯ä»¥ä¸è¯·æ±‚å‚æ•°ä¼ é€’çš„é¡ºåºä¸åŒ</li>
</ul>
<blockquote>
<p><code>@RequestParam(&quot;&quot;)</code>ï¼šæŒ‡å®šè¯·æ±‚ä¸­çš„å‚æ•°åï¼Œå¦‚æœè¯·æ±‚å‚æ•°åä¸å½¢å‚åç›¸åŒï¼Œå¯ä»¥çœç•¥</p>
<blockquote>
<p><code>value = &quot;&quot;</code>ï¼šæŒ‡å®šè¯·æ±‚å‚æ•°å<br><code>required = true</code>ï¼šæ˜¯å¦ä¸ºå¿…ä¼ çš„å‚æ•°<br><code>defaultValue = &quot;&quot;</code>ï¼šæŒ‡å®šå‚æ•°é»˜è®¤å€¼</p>
</blockquote>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(<span class="meta">@RequestParam(&quot;&quot;)</span> <span class="type">int</span> id, String name)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¼•ç”¨ç±»å‹è¯·æ±‚å‚æ•°"><a href="#å¼•ç”¨ç±»å‹è¯·æ±‚å‚æ•°" class="headerlink" title="å¼•ç”¨ç±»å‹è¯·æ±‚å‚æ•°"></a>å¼•ç”¨ç±»å‹è¯·æ±‚å‚æ•°</h4><ul>
<li>é¦–å…ˆå®šä¹‰ä¸€ä¸ªå®ä½“ç±»ï¼Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸è¯·æ±‚å‚æ•°åä¿æŒç›¸åŒï¼Œå¹¶å®šä¹‰ç›¸å…³getã€setã€toStringæ–¹æ³•</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/pojo/User.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">    Integer id;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(User user)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ•°ç»„è¯·æ±‚å‚æ•°"><a href="#æ•°ç»„è¯·æ±‚å‚æ•°" class="headerlink" title="æ•°ç»„è¯·æ±‚å‚æ•°"></a>æ•°ç»„è¯·æ±‚å‚æ•°</h4><ul>
<li>å½“ç›¸åŒå‚æ•°åçš„è¯·æ±‚å€¼æœ‰å¤šä¸ªçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„è¿›è¡Œæ¥æ”¶</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹å¼ºåˆ¶æ¥æ”¶æ‰€æœ‰å‚æ•°å€¼ï¼Œé»˜è®¤ä½¿ç”¨é€—å·åˆ†éš”</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(String[] name)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é›†åˆç±»å‹è¯·æ±‚å‚æ•°"><a href="#é›†åˆç±»å‹è¯·æ±‚å‚æ•°" class="headerlink" title="é›†åˆç±»å‹è¯·æ±‚å‚æ•°"></a>é›†åˆç±»å‹è¯·æ±‚å‚æ•°</h4><ul>
<li>å½“ç›¸åŒå‚æ•°åçš„è¯·æ±‚å€¼æœ‰å¤šä¸ªçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆè¿›è¡Œæ¥æ”¶</li>
<li>æ¥æ”¶é›†åˆç±»å‹çš„è¯·æ±‚æ—¶ï¼Œå¿…é¡»è¦æ·»åŠ <code>@RequestParam</code>æ³¨è§£</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;String&gt; name)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ—¥æœŸç±»å‹è¯·æ±‚å‚æ•°"><a href="#æ—¥æœŸç±»å‹è¯·æ±‚å‚æ•°" class="headerlink" title="æ—¥æœŸç±»å‹è¯·æ±‚å‚æ•°"></a>æ—¥æœŸç±»å‹è¯·æ±‚å‚æ•°</h4><ul>
<li>é»˜è®¤æ—¥æœŸæ ¼å¼åŒ–æ–¹å¼ä¸º<code>yyyy/MM/dd</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(Date date)</span> &#123;</span><br><span class="line">    System.out.println(date.toLocaleString());</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="é‡æ–°æŒ‡å®šæ—¥æœŸæ ¼å¼åŒ–æ–¹å¼"><a href="#é‡æ–°æŒ‡å®šæ—¥æœŸæ ¼å¼åŒ–æ–¹å¼" class="headerlink" title="é‡æ–°æŒ‡å®šæ—¥æœŸæ ¼å¼åŒ–æ–¹å¼"></a>é‡æ–°æŒ‡å®šæ—¥æœŸæ ¼å¼åŒ–æ–¹å¼</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(<span class="meta">@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)</span> Date date)</span> &#123;</span><br><span class="line">    System.out.println(date.toLocaleString());</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="é‡æ–°æŒ‡å®šæ‰€æœ‰æ—¥æœŸæ ¼å¼åŒ–æ–¹å¼"><a href="#é‡æ–°æŒ‡å®šæ‰€æœ‰æ—¥æœŸæ ¼å¼åŒ–æ–¹å¼" class="headerlink" title="é‡æ–°æŒ‡å®šæ‰€æœ‰æ—¥æœŸæ ¼å¼åŒ–æ–¹å¼"></a>é‡æ–°æŒ‡å®šæ‰€æœ‰æ—¥æœŸæ ¼å¼åŒ–æ–¹å¼</h5><ul>
<li>æ·»åŠ SpringMVCè‡ªå®šä¹‰æ—¥æœŸæ ¼å¼è½¬æ¢å™¨ï¼Œå°†SpringMVCé»˜è®¤ä»¥<code>/</code>åˆ†éš”æ”¹ä¸ºä»¥<code>-</code>åˆ†éš”</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@InitBinder</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">InitBinder</span> <span class="params">(ServletRequestDataBinder binder)</span> &#123;</span><br><span class="line">    binder.registerCustomEditor(java.util.Date.class, <span class="keyword">new</span> <span class="title class_">CustomDateEditor</span>(<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>), <span class="literal">true</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="POSTè¯·æ±‚"><a href="#POSTè¯·æ±‚" class="headerlink" title="POSTè¯·æ±‚"></a>POSTè¯·æ±‚</h3><h4 id="å¼•ç”¨ç±»å‹è¯·æ±‚å‚æ•°-1"><a href="#å¼•ç”¨ç±»å‹è¯·æ±‚å‚æ•°-1" class="headerlink" title="å¼•ç”¨ç±»å‹è¯·æ±‚å‚æ•°"></a>å¼•ç”¨ç±»å‹è¯·æ±‚å‚æ•°</h4><ul>
<li>é¦–å…ˆå®šä¹‰ä¸€ä¸ªå®ä½“ç±»ï¼Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸è¯·æ±‚å‚æ•°åä¿æŒç›¸åŒï¼Œå¹¶å®šä¹‰ç›¸å…³getã€setã€toStringæ–¹æ³•</li>
<li>å› ä¸ºPOSTè¯·æ±‚çš„å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ä¼ é€’ï¼Œæ‰€ä»¥å¿…é¡»æ·»åŠ <code>@RequestBody</code>æ³¨è§£</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/pojo/User.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">    Integer id;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é›†åˆç±»å‹è¯·æ±‚å‚æ•°-1"><a href="#é›†åˆç±»å‹è¯·æ±‚å‚æ•°-1" class="headerlink" title="é›†åˆç±»å‹è¯·æ±‚å‚æ•°"></a>é›†åˆç±»å‹è¯·æ±‚å‚æ•°</h4><ul>
<li>å½“è¯·æ±‚å‚æ•°ä¸ºJSONæ ¼å¼çš„æ•°ç»„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆè¿›è¡Œæ¥æ”¶</li>
<li>éœ€è¦å…ˆ<a href="/2022/10/12/SpringMVC%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#%E5%BC%80%E5%90%AFJSON%E8%AF%B7%E6%B1%82%E8%BD%AC%E6%8D%A2%E5%AF%B9%E8%B1%A1%E6%8E%A5%E6%94%B6">å¼€å¯JSONè¯·æ±‚è½¬æ¢å¯¹è±¡æ¥æ”¶</a></li>
<li>å› ä¸ºPOSTè¯·æ±‚çš„å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ä¼ é€’ï¼Œæ‰€ä»¥å¿…é¡»æ·»åŠ <code>@RequestBody</code>æ³¨è§£</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;String&gt; name)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="RESTé£æ ¼è¯·æ±‚"><a href="#RESTé£æ ¼è¯·æ±‚" class="headerlink" title="RESTé£æ ¼è¯·æ±‚"></a>RESTé£æ ¼è¯·æ±‚</h3><ul>
<li>RESTï¼ˆRepresentational State Transferï¼‰ï¼šè¡¨ç°å½¢å¼çŠ¶æ€è½¬æ¢</li>
<li>é£æ ¼è¡¨ç¤ºå»ºè®®ï¼Œè€Œä¸æ˜¯è§„èŒƒï¼Œä¸å¼ºåˆ¶éµç…§è¦æ±‚</li>
<li>RESTé£æ ¼çš„è¯·æ±‚åœ¨è®¿é—®æ¨¡å—æ—¶è¦ä»¥sç»“å°¾</li>
<li>RESTfulï¼šæ ¹æ®RESTé£æ ¼å¯¹èµ„æºè¿›è¡Œè®¿é—®è®¿é—®</li>
</ul>
<table>
<thead>
<tr>
<th>è¯·æ±‚æ–¹å¼</th>
<th>è¯·æ±‚è·¯å¾„</th>
<th>æ‰§è¡Œæ“ä½œ</th>
</tr>
</thead>
<tbody><tr>
<td><code>GET</code></td>
<td><code>http://localhost/users</code></td>
<td>æŸ¥è¯¢å…¨éƒ¨ä¿¡æ¯</td>
</tr>
<tr>
<td><code>GET</code></td>
<td><code>http://localhost/users/1</code></td>
<td>æŸ¥è¯¢æŒ‡å®šä¿¡æ¯</td>
</tr>
<tr>
<td><code>POST</code></td>
<td><code>http://localhost/users</code></td>
<td>æ·»åŠ ä¿¡æ¯</td>
</tr>
<tr>
<td><code>PUT</code></td>
<td><code>http://localhost/users</code></td>
<td>ä¿®æ”¹ä¿¡æ¯</td>
</tr>
<tr>
<td><code>DELETE</code></td>
<td><code>http://localhost/users/1</code></td>
<td>åˆ é™¤æŒ‡å®šä¿¡æ¯</td>
</tr>
</tbody></table>
<h4 id="å¿«é€Ÿå…¥é—¨"><a href="#å¿«é€Ÿå…¥é—¨" class="headerlink" title="å¿«é€Ÿå…¥é—¨"></a>å¿«é€Ÿå…¥é—¨</h4><ul>
<li>ç”¨<code>&#123;&#125;</code>ä½œä¸ºå‚æ•°å ä½ç¬¦</li>
</ul>
<blockquote>
<p><code>@PathVariable</code>ï¼šåœ¨è¯·æ±‚è·¯å¾„ä¼ å‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢å…¨éƒ¨ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(method = RequestMethod.GET)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;getUsers()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢æŒ‡å®šä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/&#123;id&#125;&quot;, method = RequestMethod.GET)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUserById</span><span class="params">(<span class="meta">@PathVariable</span> <span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;getUserById()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(method = RequestMethod.POST)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">insertUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;insertUser()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿®æ”¹ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(method = RequestMethod.PUT)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">updateUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;updateUser()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤æŒ‡å®šä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/&#123;id&#125;&quot;, method = RequestMethod.DELETE)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">deleteUserById</span><span class="params">(<span class="meta">@PathVariable</span> <span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;deleteUserById()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ç®€åŒ–"><a href="#ç®€åŒ–" class="headerlink" title="ç®€åŒ–"></a>ç®€åŒ–</h5><ul>
<li>ç”¨<code>@RestController</code>æ›¿æ¢<code>@Controller</code>å’Œ<code>@ResponseBody</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.DeleteMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PutMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢å…¨éƒ¨ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;getUsers()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢æŒ‡å®šä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUserById</span><span class="params">(<span class="meta">@PathVariable</span> <span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;getUserById()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">insertUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;insertUser()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿®æ”¹ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">updateUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;updateUser()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤æŒ‡å®šä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">deleteUserById</span><span class="params">(<span class="meta">@PathVariable</span> <span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;deleteUserById()&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h2><h3 id="åªè·³è½¬é¡µé¢"><a href="#åªè·³è½¬é¡µé¢" class="headerlink" title="åªè·³è½¬é¡µé¢"></a>åªè·³è½¬é¡µé¢</h3><ul>
<li>ä»¥åæˆ‘ä»¬å†™ä»£ç å¯ä»¥å•ç‹¬å†™<code>TemplatePageController</code>ç”¨äºå¤„ç†é¡µé¢è·³è½¬</li>
</ul>
<h4 id="é…ç½®å‰ç«¯é¡µé¢è®¿é—®è·¯å¾„çš„å‰åç¼€"><a href="#é…ç½®å‰ç«¯é¡µé¢è®¿é—®è·¯å¾„çš„å‰åç¼€" class="headerlink" title="é…ç½®å‰ç«¯é¡µé¢è®¿é—®è·¯å¾„çš„å‰åç¼€"></a>é…ç½®å‰ç«¯é¡µé¢è®¿é—®è·¯å¾„çš„å‰åç¼€</h4><ul>
<li>ä¸é…ç½®æ—¶é»˜è®¤ä½¿ç”¨ä»¥ä¸‹ç¼ºçœå€¼</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.thymeleaf.prefix</span>=<span class="string">classpath:/templates/</span></span><br><span class="line"><span class="attr">spring.thymeleaf.suffix</span>=<span class="string">.html</span></span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›å­—ç¬¦ä¸²ï¼ˆå¸¸ç”¨ï¼‰"><a href="#è¿”å›å­—ç¬¦ä¸²ï¼ˆå¸¸ç”¨ï¼‰" class="headerlink" title="è¿”å›å­—ç¬¦ä¸²ï¼ˆå¸¸ç”¨ï¼‰"></a>è¿”å›å­—ç¬¦ä¸²ï¼ˆå¸¸ç”¨ï¼‰</h4><ul>
<li>é€šè¿‡è¿”å›çš„å­—ç¬¦ä¸²(string)ï¼Œæ ¹æ®prefix+string+suffixè¿›è¡Œé¡µé¢è·³è½¬</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è½¬å‘å’Œé‡å®šå‘"><a href="#è½¬å‘å’Œé‡å®šå‘" class="headerlink" title="è½¬å‘å’Œé‡å®šå‘"></a>è½¬å‘å’Œé‡å®šå‘</h5><h6 id="è½¬å‘åˆ°æœ¬é¡¹ç›®"><a href="#è½¬å‘åˆ°æœ¬é¡¹ç›®" class="headerlink" title="è½¬å‘åˆ°æœ¬é¡¹ç›®"></a>è½¬å‘åˆ°æœ¬é¡¹ç›®</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="è½¬å‘åˆ°å…¶ä»–ä½ç½®"><a href="#è½¬å‘åˆ°å…¶ä»–ä½ç½®" class="headerlink" title="è½¬å‘åˆ°å…¶ä»–ä½ç½®"></a>è½¬å‘åˆ°å…¶ä»–ä½ç½®</h6><ul>
<li>è¿”å›å€¼åŠ <code>forward:</code>å‰ç¼€</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;forward:/index&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ç›®æ ‡é‡å®šå‘"><a href="#ç›®æ ‡é‡å®šå‘" class="headerlink" title="ç›®æ ‡é‡å®šå‘"></a>ç›®æ ‡é‡å®šå‘</h5><h6 id="é‡å®šå‘åˆ°ç«™å†…"><a href="#é‡å®šå‘åˆ°ç«™å†…" class="headerlink" title="é‡å®šå‘åˆ°ç«™å†…"></a>é‡å®šå‘åˆ°ç«™å†…</h6><ul>
<li>åœ¨SpringMVCä¸­ç›®æ ‡é‡å®šå‘ä¹Ÿå¯ä»¥é€šè¿‡Modelä¼ é€’å‚æ•°</li>
<li>è¿”å›å€¼åŠ <code>redirect:</code>å‰ç¼€</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/test&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="é‡å®šå‘åˆ°ç«™å¤–"><a href="#é‡å®šå‘åˆ°ç«™å¤–" class="headerlink" title="é‡å®šå‘åˆ°ç«™å¤–"></a>é‡å®šå‘åˆ°ç«™å¤–</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/http://127.0.0.1:8080/&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åªå“åº”æ•°æ®"><a href="#åªå“åº”æ•°æ®" class="headerlink" title="åªå“åº”æ•°æ®"></a>åªå“åº”æ•°æ®</h3><ul>
<li><p>ä»¥åæˆ‘ä»¬å†™ä»£ç å¯ä»¥å•ç‹¬å†™<code>JsonObjectController</code>ç”¨äºå“åº”æ•°æ®</p>
</li>
<li><p>ç”±<code>@ResponseBody</code>æ³¨è§£æ ‡æ³¨ï¼ŒModelAndViewä¼šè‡ªåŠ¨å°†è¿”å›å€¼è½¬æ¢ä¸ºjsonæ ¼å¼å­—ç¬¦ä¸²</p>
</li>
</ul>
<h4 id="è¿”å›Mapå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰"><a href="#è¿”å›Mapå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰" class="headerlink" title="è¿”å›Mapå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰"></a>è¿”å›Mapå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(&lt;key&gt;, &lt;value&gt;);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›å¼•ç”¨ç±»å‹å¯¹è±¡"><a href="#è¿”å›å¼•ç”¨ç±»å‹å¯¹è±¡" class="headerlink" title="è¿”å›å¼•ç”¨ç±»å‹å¯¹è±¡"></a>è¿”å›å¼•ç”¨ç±»å‹å¯¹è±¡</h4><figure class="highlight java"><figcaption><span>src/main/java/com/pojo/User.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">    Integer id;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setId(<span class="number">1</span>);</span><br><span class="line">    user.setName(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›å€¼ä¸ºç©º"><a href="#è¿”å›å€¼ä¸ºç©º" class="headerlink" title="è¿”å›å€¼ä¸ºç©º"></a>è¿”å›å€¼ä¸ºç©º</h4><ul>
<li>å°†æ•°æ®å­˜å‚¨åœ¨Mapå¯¹è±¡ï¼Œå°†Mapå¯¹è±¡è½¬æ¢ä¸ºjsonæ ¼å¼å­—ç¬¦ä¸²</li>
<li>é€šè¿‡HttpServletResponseå¯¹è±¡ï¼Œå“åº”æ•°æ®åˆ°å®¢æˆ·ç«¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">(HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(&lt;key&gt;, &lt;value&gt;);</span><br><span class="line">    <span class="comment">// å°†mapä¸­çš„æ•°æ®è½¬æ¢ä¸ºjsonæ ¼å¼å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    <span class="type">String</span> <span class="variable">jsonStr</span> <span class="operator">=</span> objectMapper.writeValueAsString(map);</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”æ•°æ®çš„ç¼–ç </span></span><br><span class="line">    <span class="comment">//response.setCharacterEncoding(&quot;utf-8&quot;);</span></span><br><span class="line">    <span class="comment">// å‘Šè¯‰å®¢æˆ·ç«¯ç›¸åº”æ•°æ®ç±»å‹ä¸ºtext/htmlï¼Œç¼–ç ä¸ºutf-8ï¼Œè¯·ä»¥è¿™ç§ç¼–ç å½¢å¼è¿›è¡Œæ•°æ®å‘ˆç°</span></span><br><span class="line">    response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">    <span class="comment">// å°†å­—ç¬¦ä¸²å“åº”åˆ°å®¢æˆ·ç«¯</span></span><br><span class="line">    response.getWriter().println(jsonStr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ—¢å“åº”æ•°æ®ï¼Œåˆè·³è½¬é¡µé¢"><a href="#æ—¢å“åº”æ•°æ®ï¼Œåˆè·³è½¬é¡µé¢" class="headerlink" title="æ—¢å“åº”æ•°æ®ï¼Œåˆè·³è½¬é¡µé¢"></a>æ—¢å“åº”æ•°æ®ï¼Œåˆè·³è½¬é¡µé¢</h3><ul>
<li>ä»¥åæˆ‘ä»¬å†™ä»£ç å¯ä»¥å•ç‹¬å†™<code>ModelAndViewController</code>ç”¨äºåŒæ—¶é¡µé¢è·³è½¬å¹¶å“åº”æ•°æ®</li>
</ul>
<h4 id="è¿”å›ModelAndViewå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰"><a href="#è¿”å›ModelAndViewå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰" class="headerlink" title="è¿”å›ModelAndViewå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰"></a>è¿”å›ModelAndViewå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰</h4><ul>
<li>è¿”å›å€¼ä¼šäº¤ç»™DispatcherServletdå¯¹è±¡è¿›è¡Œå¤„ç†</li>
<li>DispatcherServletå¯¹è±¡ä¼šè°ƒç”¨viewresolverå¯¹ç»“æœè¿›è¡Œè§£æ</li>
<li>åŸºäºviewresolveræ‰¾åˆ°å¯¹åº”çš„viewé¡µé¢ï¼ˆprefix+viewname+suffixï¼‰</li>
<li>å°†modelä¸­çš„æ•°æ®å¡«å……åˆ°viewé¡µé¢ä¸Š</li>
<li>è¿”å›ä¸€ä¸ªå¸¦æœ‰modelæ•°æ®çš„é¡µé¢ç»™DispatcherServlet</li>
<li>DispatcherServletå°†å¸¦æœ‰modelæ•°æ®çš„é¡µé¢å“åº”åˆ°å®¢æˆ·ç«¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">ModelAndView</span> <span class="variable">modelAndView</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">    modelAndView.setViewName(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    modelAndView.addObject(&lt;key&gt;, &lt;value&gt;);</span><br><span class="line">    <span class="keyword">return</span> modelAndView;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›å­—ç¬¦ä¸²"><a href="#è¿”å›å­—ç¬¦ä¸²" class="headerlink" title="è¿”å›å­—ç¬¦ä¸²"></a>è¿”å›å­—ç¬¦ä¸²</h4><ul>
<li>é€šè¿‡Modelå¯¹è±¡ä¼ è¾“æ•°æ®ï¼Œå°†æ•°æ®å¡«å……åˆ°é¡µé¢ä¸Š</li>
<li>é€šè¿‡è¿”å›çš„å­—ç¬¦ä¸²(string)ï¼Œæ ¹æ®prefix+string+suffixè¿›è¡Œé¡µé¢è·³è½¬</li>
</ul>
<blockquote>
<p><code>&lt;key&gt;</code>ï¼šé”®ï¼Œä»…å¯ä»¥å­—ç¬¦ä¸²ç±»å‹<br><code>&lt;value&gt;</code>ï¼šå€¼ï¼Œå¯ä»¥ä»»æ„ç±»å‹</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">method</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">    model.addAttribute(&lt;key&gt;, &lt;value&gt;);</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h2><ul>
<li>æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰æ˜¯ä¸€ç§åŠ¨æ€æ‹¦æˆªæ–¹æ³•è°ƒç”¨çš„æœºåˆ¶ï¼Œåœ¨SpringMVCä¸­åŠ¨æ€æ‹¦æˆªæ§åˆ¶å™¨æ–¹æ³•çš„æ‰§è¡Œ</li>
<li>ä½œç”¨<ul>
<li>åœ¨æŒ‡å®šçš„æ–¹æ³•è°ƒç”¨å‰åæ‰§è¡Œé¢„å…ˆè®¾å®šçš„ä»£ç </li>
<li>ç»ˆæ­¢åŸå§‹æ–¹æ³•çš„æ‰§è¡Œ</li>
</ul>
</li>
<li>æ‹¦æˆªå™¨ä¸è¿‡æ»¤å™¨çš„åŒºåˆ«<ul>
<li>å½’å±ä¸åŒï¼šæ‹¦æˆªå™¨å±äºSpringMVCçš„æŠ€æœ¯ï¼Œè¿‡æ»¤å™¨å±äºServletçš„æŠ€æœ¯</li>
<li>æ‹¦æˆªå†…å®¹ä¸åŒï¼šæ‹¦æˆªå™¨ä»…å¯¹SpringMVCè¿›è¡Œå¢å¼ºï¼Œè¿‡æ»¤å™¨å¯¹æ‰€æœ‰è®¿é—®è¿›è¡Œå¢å¼º</li>
</ul>
</li>
</ul>
<h3 id="åˆ›å»ºæ‹¦æˆªå™¨ç±»"><a href="#åˆ›å»ºæ‹¦æˆªå™¨ç±»" class="headerlink" title="åˆ›å»ºæ‹¦æˆªå™¨ç±»"></a>åˆ›å»ºæ‹¦æˆªå™¨ç±»</h3><ul>
<li>å¦‚æœ<code>preHandle()</code>æ–¹æ³•è¿”å›<code>false</code>ï¼Œè¡¨ç¤ºæ‹¦æˆªï¼Œåˆ™åŸå§‹æ“ä½œåŠå…¶ä¹‹åçš„æ“ä½œéƒ½<strong>ä¸æ‰§è¡Œ</strong></li>
<li>å¦‚æœ<code>preHandle()</code>æ–¹æ³•è¿”å›<code>true</code>ï¼Œè¡¨ç¤ºæ”¾è¡Œï¼Œåˆ™åŸå§‹æ“ä½œåŠå…¶ä¹‹åçš„æ“ä½œéƒ½<strong>æ­£å¸¸æ‰§è¡Œ</strong></li>
<li>å½¢å‚<code>handler</code>å¯ä»¥é€šè¿‡åå°„è·å–åŸå§‹æ“ä½œçš„å¯¹è±¡</li>
</ul>
<figure class="highlight java"><figcaption><span>src/main/java/com/controller/interceptor/UserInterceptor.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŸå§‹æ“ä½œä¹‹å‰æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle()&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŸå§‹æ“ä½œä¹‹åæ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandle()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰€æœ‰æ“ä½œå®Œæˆä¹‹åæ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®ç±»"><a href="#é…ç½®ç±»" class="headerlink" title="é…ç½®ç±»"></a>é…ç½®ç±»</h3><h4 id="é€šè¿‡SpringMvcSupporté…ç½®ç±»å®Œæˆé…ç½®"><a href="#é€šè¿‡SpringMvcSupporté…ç½®ç±»å®Œæˆé…ç½®" class="headerlink" title="é€šè¿‡SpringMvcSupporté…ç½®ç±»å®Œæˆé…ç½®"></a>é€šè¿‡SpringMvcSupporté…ç½®ç±»å®Œæˆé…ç½®</h4><h5 id="åˆ›å»ºSpringMvcSupporté…ç½®ç±»-1"><a href="#åˆ›å»ºSpringMvcSupporté…ç½®ç±»-1" class="headerlink" title="åˆ›å»ºSpringMvcSupporté…ç½®ç±»"></a>åˆ›å»ºSpringMvcSupporté…ç½®ç±»</h5><ul>
<li>ç»§æ‰¿<code>WebMvcConfigurationSupport</code>ç±»ï¼Œé‡å†™<code>addResourceHandlers()</code>æ–¹æ³•å’Œ<code>addInterceptors()</code>æ–¹æ³•</li>
<li>é€šè¿‡<code>addResourceHandlers()</code>æ–¹æ³•é…ç½®æ”¾è¡Œçš„è¯·æ±‚èŒƒå›´</li>
<li>é€šè¿‡<code>addInterceptors()</code>æ–¹æ³•é…ç½®æ‹¦æˆªå™¨åŠå…¶ç®¡ç†çš„è¯·æ±‚èŒƒå›´</li>
</ul>
<blockquote>
<p><code>addResourceHandler(&quot;/pages/**&quot;, &quot;/pages/&quot;)</code>ï¼šå½“è®¿é—®çš„èµ„æºè·¯å¾„ä¸º<code>/pages/**</code>æ—¶ï¼Œè®¿é—®é™æ€è·¯å¾„<code>/pages/</code>ä¸‹çš„èµ„æº</p>
</blockquote>
<figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcSupport.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.interceptor.UserInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcSupport</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserInterceptor userInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/pages/**&quot;</span>).addResourceLocations(<span class="string">&quot;/pages/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(userInterceptor).addPathPatterns(<span class="string">&quot;/users&quot;</span>, <span class="string">&quot;/users/*);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="åœ¨SpringMVCå®¹å™¨é…ç½®ç±»æ·»åŠ åŒ…æ‰«æèŒƒå›´-1"><a href="#åœ¨SpringMVCå®¹å™¨é…ç½®ç±»æ·»åŠ åŒ…æ‰«æèŒƒå›´-1" class="headerlink" title="åœ¨SpringMVCå®¹å™¨é…ç½®ç±»æ·»åŠ åŒ…æ‰«æèŒƒå›´"></a>åœ¨SpringMVCå®¹å™¨é…ç½®ç±»æ·»åŠ åŒ…æ‰«æèŒƒå›´</h5><figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.controller&quot;, &quot;com.interceptor&quot;, &quot;com.conf&quot;&#125;)</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç›´æ¥é€šè¿‡SpringMvcConfigé…ç½®ç±»å®Œæˆé…ç½®ï¼ˆç®€åŒ–ï¼‰"><a href="#ç›´æ¥é€šè¿‡SpringMvcConfigé…ç½®ç±»å®Œæˆé…ç½®ï¼ˆç®€åŒ–ï¼‰" class="headerlink" title="ç›´æ¥é€šè¿‡SpringMvcConfigé…ç½®ç±»å®Œæˆé…ç½®ï¼ˆç®€åŒ–ï¼‰"></a>ç›´æ¥é€šè¿‡SpringMvcConfigé…ç½®ç±»å®Œæˆé…ç½®ï¼ˆç®€åŒ–ï¼‰</h4><figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.controller.interceptor.UserInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.controller&quot;&#125;)</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserInterceptor userInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(userInterceptor).addPathPatterns(<span class="string">&quot;/user&quot;</span>, <span class="string">&quot;/users/*&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ‹¦æˆªå™¨é“¾"><a href="#æ‹¦æˆªå™¨é“¾" class="headerlink" title="æ‹¦æˆªå™¨é“¾"></a>æ‹¦æˆªå™¨é“¾</h3><ul>
<li>ç”±å¤šä¸ªæ‹¦æˆªå™¨ç»„æˆæ‹¦æˆªå™¨é“¾</li>
</ul>
<h4 id="åˆ›å»ºå¤šä¸ªæ‹¦æˆªå™¨ç±»"><a href="#åˆ›å»ºå¤šä¸ªæ‹¦æˆªå™¨ç±»" class="headerlink" title="åˆ›å»ºå¤šä¸ªæ‹¦æˆªå™¨ç±»"></a>åˆ›å»ºå¤šä¸ªæ‹¦æˆªå™¨ç±»</h4><figure class="highlight java"><figcaption><span>src/main/java/com/controller/interceptor/UserInterceptor.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle()&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandle()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><figcaption><span>src/main/java/com/controller/interceptor/UserInterceptor2.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserInterceptor2</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle()&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandle()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¼•å…¥å¤šä¸ªé…ç½®"><a href="#å¼•å…¥å¤šä¸ªé…ç½®" class="headerlink" title="å¼•å…¥å¤šä¸ªé…ç½®"></a>å¼•å…¥å¤šä¸ªé…ç½®</h4><figure class="highlight java"><figcaption><span>src/main/java/com/conf/SpringMvcConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.conf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.controller.interceptor.UserInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.controller.interceptor.UserInterceptor2;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.controller&quot;&#125;)</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserInterceptor userInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserInterceptor2 userInterceptor2;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(userInterceptor).addPathPatterns(<span class="string">&quot;/user&quot;</span>, <span class="string">&quot;/users/*&quot;</span>);</span><br><span class="line">        registry.addInterceptor(userInterceptor2).addPathPatterns(<span class="string">&quot;/user&quot;</span>, <span class="string">&quot;/users/*&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº"><a href="#æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº"></a>æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº</h3><ul>
<li>æ‹¦æˆªå™¨æ‰§è¡Œé¡ºåºæ ¹æ®<code>addInterceptors()</code>æ–¹æ³•é…ç½®æ‹¦æˆªå™¨çš„é¡ºåºè€Œæ’åº</li>
</ul>
<h4 id="æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº-1"><a href="#æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº-1" class="headerlink" title="æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº"></a>æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº</h4><h5 id="å½“preHandle-è¿”å›trueæ—¶"><a href="#å½“preHandle-è¿”å›trueæ—¶" class="headerlink" title="å½“preHandle()è¿”å›trueæ—¶"></a>å½“preHandle()è¿”å›trueæ—¶</h5><ul>
<li>æ‹¦æˆªå™¨çš„<code>preHandle()</code> -&gt; åŸå§‹æ“ä½œ -&gt; æ‹¦æˆªå™¨çš„<code>postHandle()</code> -&gt; æ‹¦æˆªå™¨çš„<code>afterCompletion()</code> -&gt; è¿è¡Œç»“æŸ</li>
</ul>
<h5 id="å½“preHandle-è¿”å›falseæ—¶"><a href="#å½“preHandle-è¿”å›falseæ—¶" class="headerlink" title="å½“preHandle()è¿”å›falseæ—¶"></a>å½“preHandle()è¿”å›falseæ—¶</h5><ul>
<li>æ‹¦æˆªå™¨çš„<code>preHandle()</code> -&gt; è¿è¡Œç»“æŸ</li>
</ul>
<h4 id="æ‹¦æˆªå™¨é“¾çš„æ‰§è¡Œé¡ºåº"><a href="#æ‹¦æˆªå™¨é“¾çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="æ‹¦æˆªå™¨é“¾çš„æ‰§è¡Œé¡ºåº"></a>æ‹¦æˆªå™¨é“¾çš„æ‰§è¡Œé¡ºåº</h4><h5 id="å½“preHandle-è¿”å›trueæ—¶-1"><a href="#å½“preHandle-è¿”å›trueæ—¶-1" class="headerlink" title="å½“preHandle()è¿”å›trueæ—¶"></a>å½“preHandle()è¿”å›trueæ—¶</h5><ul>
<li>æ‹¦æˆªå™¨1çš„<code>preHandle()</code> -&gt; æ‹¦æˆªå™¨2çš„<code>preHandle()</code> -&gt; æ‹¦æˆªå™¨3çš„<code>preHandle()</code> -&gt; åŸå§‹æ“ä½œ -&gt; æ‹¦æˆªå™¨3çš„<code>postHandle()</code> -&gt; æ‹¦æˆªå™¨2çš„<code>postHandle()</code> -&gt; æ‹¦æˆªå™¨1çš„<code>postHandle()</code> -&gt; æ‹¦æˆªå™¨3çš„<code>afterCompletion()</code> -&gt; æ‹¦æˆªå™¨2çš„<code>afterCompletion()</code> -&gt; æ‹¦æˆªå™¨1çš„<code>afterCompletion()</code> -&gt; è¿è¡Œç»“æŸ</li>
</ul>
<h5 id="å½“userInterceptor3çš„preHandle-è¿”å›falseæ—¶"><a href="#å½“userInterceptor3çš„preHandle-è¿”å›falseæ—¶" class="headerlink" title="å½“userInterceptor3çš„preHandle()è¿”å›falseæ—¶"></a>å½“userInterceptor3çš„preHandle()è¿”å›falseæ—¶</h5><ul>
<li>æ‹¦æˆªå™¨1çš„<code>preHandle()</code> -&gt; æ‹¦æˆªå™¨2çš„<code>preHandle()</code> -&gt; æ‹¦æˆªå™¨3çš„<code>preHandle()</code> -&gt; æ‹¦æˆªå™¨2çš„<code>afterCompletion()</code> -&gt; æ‹¦æˆªå™¨1çš„<code>afterCompletion()</code> -&gt; è¿è¡Œç»“æŸ</li>
</ul>
<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="/302.html?target=https://www.bilibili.com/video/BV1Fi4y1S7ix/">å“”å“©å“”å“©â€”â€”é»‘é©¬ç¨‹åºå‘˜</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Javaåç«¯å­¦ä¹ æŒ‡åŒ—/">Javaåç«¯å­¦ä¹ æŒ‡åŒ—</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java/">Java</a><a href="/tags/Spring/">Spring</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>