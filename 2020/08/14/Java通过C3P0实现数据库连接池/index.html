<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘Javaé€šè¿‡C3P0å®ç°æ•°æ®åº“è¿æ¥æ±  | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="Java">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘Javaé€šè¿‡C3P0å®ç°æ•°æ®åº“è¿æ¥æ± "/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘Javaé€šè¿‡C3P0å®ç°æ•°æ®åº“è¿æ¥æ± </span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/08/14/Javaé€šè¿‡C3P0å®ç°æ•°æ®åº“è¿æ¥æ± /" rel="bookmark">
        <time class="entry-date published" datetime="2020-08-14T07:56:56.000Z">
          2020-08-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Javaé€šè¿‡C3P0å®ç°æ•°æ®åº“è¿æ¥æ± </p>
<span id="more"></span>

<h2 id="å¯¼å…¥jaråŒ…"><a href="#å¯¼å…¥jaråŒ…" class="headerlink" title="å¯¼å…¥jaråŒ…"></a>å¯¼å…¥jaråŒ…</h2><ul>
<li>å°†<code>c3p0-0.9.1.2.jar</code>å¯¼å…¥åˆ°é¡¹ç›®çš„<code>/WebContent/WEB-INF/lib</code>ç›®å½•ä¸‹</li>
</ul>
<h2 id="æ–¹æ³•ä¸€ï¼šåœ¨ç¨‹åºä¸­è®¾å®šè¿æ¥å‚æ•°"><a href="#æ–¹æ³•ä¸€ï¼šåœ¨ç¨‹åºä¸­è®¾å®šè¿æ¥å‚æ•°" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåœ¨ç¨‹åºä¸­è®¾å®šè¿æ¥å‚æ•°"></a>æ–¹æ³•ä¸€ï¼šåœ¨ç¨‹åºä¸­è®¾å®šè¿æ¥å‚æ•°</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestC3P0</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªC3P0è¿æ¥æ± å¯¹è±¡ï¼ˆä¼šå­˜æ”¾ä¸€æ‰¹è¿æ¥ï¼Œé»˜è®¤3ä¸ªï¼‰</span></span><br><span class="line">    <span class="type">ComboPooledDataSource</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ComboPooledDataSource</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// è®¾ç½®C3P0è¿æ¥å‚æ•°</span></span><br><span class="line">            pool.setDriverClass(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">            pool.setJdbcUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/jt_db?characterEncoding=utf-8&amp;serverTimezone=UTC&quot;</span>);</span><br><span class="line">            pool.setUser(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">            pool.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> pool.getConnection();</span><br><span class="line">            <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> connection.prepareStatement(<span class="string">&quot;SELECT * FROM user&quot;</span>);</span><br><span class="line">            <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">                System.out.println(id+<span class="string">&quot;\t&quot;</span>+username+<span class="string">&quot;\t&quot;</span>+password);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            rs.close();</span><br><span class="line">            ps.close();</span><br><span class="line">            connection.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•äºŒï¼šåœ¨é…ç½®æ–‡ä»¶è®¾å®šå‚æ•°ï¼ˆpropertiesï¼‰"><a href="#æ–¹æ³•äºŒï¼šåœ¨é…ç½®æ–‡ä»¶è®¾å®šå‚æ•°ï¼ˆpropertiesï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šåœ¨é…ç½®æ–‡ä»¶è®¾å®šå‚æ•°ï¼ˆpropertiesï¼‰"></a>æ–¹æ³•äºŒï¼šåœ¨é…ç½®æ–‡ä»¶è®¾å®šå‚æ•°ï¼ˆpropertiesï¼‰</h2><ul>
<li><p>åˆ›å»º<code>c3p0.properties</code>é…ç½®æ–‡ä»¶æ”¾åˆ°é¡¹ç›®çš„<code>/src</code>ç›®å½•ä¸‹</p>
</li>
<li><p>é…ç½®æ–‡ä»¶å‚æ•°</p>
</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">c3p0.driverClass</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">c3p0.jdbcUrl</span>=<span class="string">jdbc:mysql://localhost:3306/jt_db?serverTimezone=UTC</span></span><br><span class="line"><span class="attr">c3p0.user</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">c3p0.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure>

<ul>
<li>é‡æ–°ç¼–è¾‘é¡¹ç›®</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestC3P0</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªC3P0è¿æ¥æ± å¯¹è±¡ï¼ˆä¼šå­˜æ”¾ä¸€æ‰¹è¿æ¥ï¼Œé»˜è®¤3ä¸ªï¼‰</span></span><br><span class="line">    <span class="type">ComboPooledDataSource</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ComboPooledDataSource</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            pool.setDriverClass(&quot;com.mysql.cj.jdbc.Driver&quot;);</span></span><br><span class="line"><span class="comment">//            pool.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/jt_db?characterEncoding=utf-8&amp;serverTimezone=UTC&quot;);</span></span><br><span class="line"><span class="comment">//            pool.setUser(&quot;root&quot;);</span></span><br><span class="line"><span class="comment">//            pool.setPassword(&quot;123456&quot;);</span></span><br><span class="line">            </span><br><span class="line">            <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> pool.getConnection();</span><br><span class="line">            <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> connection.prepareStatement(<span class="string">&quot;SELECT * FROM user&quot;</span>);</span><br><span class="line">            <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">                System.out.println(id+<span class="string">&quot;\t&quot;</span>+username+<span class="string">&quot;\t&quot;</span>+password);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            rs.close();</span><br><span class="line">            ps.close();</span><br><span class="line">            connection.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•ä¸‰ï¼šåœ¨é…ç½®æ–‡ä»¶è®¾å®šå‚æ•°ï¼ˆxmlï¼‰"><a href="#æ–¹æ³•ä¸‰ï¼šåœ¨é…ç½®æ–‡ä»¶è®¾å®šå‚æ•°ï¼ˆxmlï¼‰" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šåœ¨é…ç½®æ–‡ä»¶è®¾å®šå‚æ•°ï¼ˆxmlï¼‰"></a>æ–¹æ³•ä¸‰ï¼šåœ¨é…ç½®æ–‡ä»¶è®¾å®šå‚æ•°ï¼ˆxmlï¼‰</h2><ul>
<li><p>åˆ›å»º<code>c3p0-config.xml</code>é…ç½®æ–‡ä»¶æ”¾åˆ°é¡¹ç›®çš„<code>/src</code>ç›®å½•ä¸‹</p>
</li>
<li><p>é…ç½®æ–‡ä»¶å‚æ•°</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">default-config</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span>&gt;</span></span><br><span class="line">			com.mysql.cj.jdbc.Driver</span><br><span class="line">		<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span>&gt;</span></span><br><span class="line">			jdbc:mysql://localhost:3306/jt_db?serverTimezone=UTC</span><br><span class="line">		<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">			root</span><br><span class="line">		<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">			123456</span><br><span class="line">		<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">default-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>é‡æ–°ç¼–è¾‘é¡¹ç›®</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestC3P0</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªC3P0è¿æ¥æ± å¯¹è±¡ï¼ˆä¼šå­˜æ”¾ä¸€æ‰¹è¿æ¥ï¼Œé»˜è®¤3ä¸ªï¼‰</span></span><br><span class="line">    <span class="type">ComboPooledDataSource</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ComboPooledDataSource</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            pool.setDriverClass(&quot;com.mysql.cj.jdbc.Driver&quot;);</span></span><br><span class="line"><span class="comment">//            pool.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/jt_db?characterEncoding=utf-8&amp;serverTimezone=UTC&quot;);</span></span><br><span class="line"><span class="comment">//            pool.setUser(&quot;root&quot;);</span></span><br><span class="line"><span class="comment">//            pool.setPassword(&quot;123456&quot;);</span></span><br><span class="line">            </span><br><span class="line">            <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> pool.getConnection();</span><br><span class="line">            <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> connection.prepareStatement(<span class="string">&quot;SELECT * FROM user&quot;</span>);</span><br><span class="line">            <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">                System.out.println(id+<span class="string">&quot;\t&quot;</span>+username+<span class="string">&quot;\t&quot;</span>+password);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            rs.close();</span><br><span class="line">            ps.close();</span><br><span class="line">            connection.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ›´å¤šé…ç½®"><a href="#æ›´å¤šé…ç½®" class="headerlink" title="æ›´å¤šé…ç½®"></a>æ›´å¤šé…ç½®</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">default-config</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--åˆå§‹åŒ–æ—¶è·å–ä¸‰ä¸ªè¿æ¥ï¼Œå–å€¼åº”åœ¨minPoolSizeä¸maxPoolSizeä¹‹é—´ã€‚Default: 3 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;initialPoolSize&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!--å½“è¿æ¥æ± ä¸­çš„è¿æ¥è€—å°½çš„æ—¶å€™c3p0ä¸€æ¬¡åŒæ—¶è·å–çš„è¿æ¥æ•°ã€‚Default: 3 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireIncrement&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--å®šä¹‰åœ¨ä»æ•°æ®åº“è·å–æ–°è¿æ¥å¤±è´¥åé‡å¤å°è¯•çš„æ¬¡æ•°ã€‚Default: 30 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireRetryAttempts&quot;</span>&gt;</span>30<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--æœ€å¤§ç©ºé—²æ—¶é—´,60ç§’å†…æœªä½¿ç”¨åˆ™è¿æ¥è¢«ä¸¢å¼ƒã€‚è‹¥ä¸º0åˆ™æ°¸ä¸ä¸¢å¼ƒã€‚Default: 0 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxIdleTime&quot;</span>&gt;</span>60<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--è¿æ¥æ± ä¸­ä¿ç•™çš„æœ€å¤§è¿æ¥æ•°ã€‚Default: 15 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span>&gt;</span>15<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!--æ¯60ç§’æ£€æŸ¥æ‰€æœ‰è¿æ¥æ± ä¸­çš„ç©ºé—²è¿æ¥ã€‚Default: 0 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;idleConnectionTestPeriod&quot;</span>&gt;</span>60<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!--ä¸¤æ¬¡è¿æ¥ä¸­é—´éš”æ—¶é—´ï¼Œå•ä½æ¯«ç§’ã€‚Default: 1000 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireRetryDelay&quot;</span>&gt;</span>1000<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--è¿æ¥å…³é—­æ—¶é»˜è®¤å°†æ‰€æœ‰æœªæäº¤çš„æ“ä½œå›æ»šã€‚Default: false --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;autoCommitOnClose&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--c3p0å°†å»ºä¸€å¼ åä¸ºTestçš„ç©ºè¡¨ï¼Œå¹¶ä½¿ç”¨å…¶è‡ªå¸¦çš„æŸ¥è¯¢è¯­å¥è¿›è¡Œæµ‹è¯•ã€‚å¦‚æœå®šä¹‰äº†è¿™ä¸ªå‚æ•°é‚£ä¹ˆ </span></span><br><span class="line"><span class="comment">		å±æ€§preferredTestQueryå°†è¢«å¿½ç•¥ã€‚ä½ ä¸èƒ½åœ¨è¿™å¼ Testè¡¨ä¸Šè¿›è¡Œä»»ä½•æ“ä½œï¼Œå®ƒå°†åªä¾›c3p0æµ‹è¯• </span></span><br><span class="line"><span class="comment">		ä½¿ç”¨ã€‚Default: null--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;automaticTestTable&quot;</span>&gt;</span>Test<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--è·å–è¿æ¥å¤±è´¥å°†ä¼šå¼•èµ·æ‰€æœ‰ç­‰å¾…è¿æ¥æ± æ¥è·å–è¿æ¥çš„çº¿ç¨‹æŠ›å‡ºå¼‚å¸¸ã€‚ä½†æ˜¯æ•°æ®æºä»æœ‰æ•ˆ </span></span><br><span class="line"><span class="comment">		ä¿ç•™ï¼Œå¹¶åœ¨ä¸‹æ¬¡è°ƒç”¨getConnection()çš„æ—¶å€™ç»§ç»­å°è¯•è·å–è¿æ¥ã€‚å¦‚æœè®¾ä¸ºtrueï¼Œé‚£ä¹ˆåœ¨å°è¯• </span></span><br><span class="line"><span class="comment">		è·å–è¿æ¥å¤±è´¥åè¯¥æ•°æ®æºå°†ç”³æ˜å·²æ–­å¼€å¹¶æ°¸ä¹…å…³é—­ã€‚Default: false--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;breakAfterAcquireFailure&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--å½“è¿æ¥æ± ç”¨å®Œæ—¶å®¢æˆ·ç«¯è°ƒç”¨getConnection()åç­‰å¾…è·å–æ–°è¿æ¥çš„æ—¶é—´ï¼Œè¶…æ—¶åå°†æŠ›å‡º </span></span><br><span class="line"><span class="comment">		SQLException,å¦‚è®¾ä¸º0åˆ™æ— é™æœŸç­‰å¾…ã€‚å•ä½æ¯«ç§’ã€‚Default: 0 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;checkoutTimeout&quot;</span>&gt;</span>100<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--é€šè¿‡å®ç°ConnectionTesteræˆ–QueryConnectionTesterçš„ç±»æ¥æµ‹è¯•è¿æ¥ã€‚ç±»åéœ€åˆ¶å®šå…¨è·¯å¾„ã€‚ </span></span><br><span class="line"><span class="comment">		Default: com.mchange.v2.c3p0.impl.DefaultConnectionTester--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;connectionTesterClassName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--æŒ‡å®šc3p0 librariesçš„è·¯å¾„ï¼Œå¦‚æœï¼ˆé€šå¸¸éƒ½æ˜¯è¿™æ ·ï¼‰åœ¨æœ¬åœ°å³å¯è·å¾—é‚£ä¹ˆæ— éœ€è®¾ç½®ï¼Œé»˜è®¤nullå³å¯ </span></span><br><span class="line"><span class="comment">		Default: null--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;factoryClassLocation&quot;</span>&gt;</span>null<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--Strongly disrecommended. Setting this to true may lead to subtle and bizarre bugs. </span></span><br><span class="line"><span class="comment">		ï¼ˆæ–‡æ¡£åŸæ–‡ï¼‰ä½œè€…å¼ºçƒˆå»ºè®®ä¸ä½¿ç”¨çš„ä¸€ä¸ªå±æ€§--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;forceIgnoreUnresolvedTransactions&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--JDBCçš„æ ‡å‡†å‚æ•°ï¼Œç”¨ä»¥æ§åˆ¶æ•°æ®æºå†…åŠ è½½çš„PreparedStatementsæ•°é‡ã€‚ä½†ç”±äºé¢„ç¼“å­˜çš„statements </span></span><br><span class="line"><span class="comment">		å±äºå•ä¸ªconnectionè€Œä¸æ˜¯æ•´ä¸ªè¿æ¥æ± ã€‚æ‰€ä»¥è®¾ç½®è¿™ä¸ªå‚æ•°éœ€è¦è€ƒè™‘åˆ°å¤šæ–¹é¢çš„å› ç´ ã€‚ </span></span><br><span class="line"><span class="comment">		å¦‚æœmaxStatementsä¸maxStatementsPerConnectionå‡ä¸º0ï¼Œåˆ™ç¼“å­˜è¢«å…³é—­ã€‚Default: 0--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxStatements&quot;</span>&gt;</span>100<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--maxStatementsPerConnectionå®šä¹‰äº†è¿æ¥æ± å†…å•ä¸ªè¿æ¥æ‰€æ‹¥æœ‰çš„æœ€å¤§ç¼“å­˜statementsæ•°ã€‚Default: 0 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxStatementsPerConnection&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--c3p0æ˜¯å¼‚æ­¥æ“ä½œçš„ï¼Œç¼“æ…¢çš„JDBCæ“ä½œé€šè¿‡å¸®åŠ©è¿›ç¨‹å®Œæˆã€‚æ‰©å±•è¿™äº›æ“ä½œå¯ä»¥æœ‰æ•ˆçš„æå‡æ€§èƒ½ </span></span><br><span class="line"><span class="comment">		é€šè¿‡å¤šçº¿ç¨‹å®ç°å¤šä¸ªæ“ä½œåŒæ—¶è¢«æ‰§è¡Œã€‚Default: 3--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;numHelperThreads&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--å½“ç”¨æˆ·è°ƒç”¨getConnection()æ—¶ä½¿rootç”¨æˆ·æˆä¸ºå»è·å–è¿æ¥çš„ç”¨æˆ·ã€‚ä¸»è¦ç”¨äºè¿æ¥æ± è¿æ¥éc3p0 </span></span><br><span class="line"><span class="comment">		çš„æ•°æ®æºæ—¶ã€‚Default: null--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;overrideDefaultUser&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--ä¸overrideDefaultUserå‚æ•°å¯¹åº”ä½¿ç”¨çš„ä¸€ä¸ªå‚æ•°ã€‚Default: null--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;overrideDefaultPassword&quot;</span>&gt;</span>password<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--å®šä¹‰æ‰€æœ‰è¿æ¥æµ‹è¯•éƒ½æ‰§è¡Œçš„æµ‹è¯•è¯­å¥ã€‚åœ¨ä½¿ç”¨è¿æ¥æµ‹è¯•çš„æƒ…å†µä¸‹è¿™ä¸ªä¸€æ˜¾è‘—æé«˜æµ‹è¯•é€Ÿåº¦ã€‚æ³¨æ„ï¼š </span></span><br><span class="line"><span class="comment">		æµ‹è¯•çš„è¡¨å¿…é¡»åœ¨åˆå§‹æ•°æ®æºçš„æ—¶å€™å°±å­˜åœ¨ã€‚Default: null--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;preferredTestQuery&quot;</span>&gt;</span>select id from test where id=1<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--ç”¨æˆ·ä¿®æ”¹ç³»ç»Ÿé…ç½®å‚æ•°æ‰§è¡Œå‰æœ€å¤šç­‰å¾…300ç§’ã€‚Default: 300 --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;propertyCycle&quot;</span>&gt;</span>300<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--å› æ€§èƒ½æ¶ˆè€—å¤§è¯·åªåœ¨éœ€è¦çš„æ—¶å€™ä½¿ç”¨å®ƒã€‚å¦‚æœè®¾ä¸ºtrueé‚£ä¹ˆåœ¨æ¯ä¸ªconnectionæäº¤çš„ </span></span><br><span class="line"><span class="comment">		æ—¶å€™éƒ½å°†æ ¡éªŒå…¶æœ‰æ•ˆæ€§ã€‚å»ºè®®ä½¿ç”¨idleConnectionTestPeriodæˆ–automaticTestTable </span></span><br><span class="line"><span class="comment">		ç­‰æ–¹æ³•æ¥æå‡è¿æ¥æµ‹è¯•çš„æ€§èƒ½ã€‚Default: false --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;testConnectionOnCheckout&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--å¦‚æœè®¾ä¸ºtrueé‚£ä¹ˆåœ¨å–å¾—è¿æ¥çš„åŒæ—¶å°†æ ¡éªŒè¿æ¥çš„æœ‰æ•ˆæ€§ã€‚Default: false --&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;testConnectionOnCheckin&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!--æ—©æœŸçš„c3p0ç‰ˆæœ¬å¯¹JDBCæ¥å£é‡‡ç”¨åŠ¨æ€åå°„ä»£ç†ã€‚åœ¨æ—©æœŸç‰ˆæœ¬ç”¨é€”å¹¿æ³›çš„æƒ…å†µä¸‹è¿™ä¸ªå‚æ•° </span></span><br><span class="line"><span class="comment">		å…è®¸ç”¨æˆ·æ¢å¤åˆ°åŠ¨æ€åå°„ä»£ç†ä»¥è§£å†³ä¸ç¨³å®šçš„æ•…éšœã€‚æœ€æ–°çš„éåå°„ä»£ç†æ›´å¿«å¹¶ä¸”å·²ç»å¼€å§‹ </span></span><br><span class="line"><span class="comment">		å¹¿æ³›çš„è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥è¿™ä¸ªå‚æ•°æœªå¿…æœ‰ç”¨ã€‚ç°åœ¨åŸå…ˆçš„åŠ¨æ€åå°„ä¸æ–°çš„éåå°„ä»£ç†åŒæ—¶å—åˆ° </span></span><br><span class="line"><span class="comment">		æ”¯æŒï¼Œä½†ä»Šåå¯èƒ½çš„ç‰ˆæœ¬å¯èƒ½ä¸æ”¯æŒåŠ¨æ€åå°„ä»£ç†ã€‚Default: false--&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;usesTraditionalReflectiveProxies&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;automaticTestTable&quot;</span>&gt;</span>con_test<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;checkoutTimeout&quot;</span>&gt;</span>30000<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;idleConnectionTestPeriod&quot;</span>&gt;</span>30<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;initialPoolSize&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxIdleTime&quot;</span>&gt;</span>30<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span>&gt;</span>25<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minPoolSize&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxStatements&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;/<span class="name">default-config</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Javaåç«¯å­¦ä¹ æŒ‡åŒ—/">Javaåç«¯å­¦ä¹ æŒ‡åŒ—</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java/">Java</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>