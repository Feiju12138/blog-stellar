<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘Dockerå­¦ä¹ ç¬”è®° | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="Docker">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘Dockerå­¦ä¹ ç¬”è®°"/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘Dockerå­¦ä¹ ç¬”è®°</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/09/10/Dockerå­¦ä¹ ç¬”è®°/" rel="bookmark">
        <time class="entry-date published" datetime="2020-09-10T04:03:32.000Z">
          2020-09-10
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Docker æ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç è½¯ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾å¹³å°ï¼Œç”¨äºå¼€å‘åº”ç”¨ã€äº¤ä»˜ï¼ˆshippingï¼‰åº”ç”¨ã€è¿è¡Œåº”ç”¨ã€‚ Dockerå…è®¸ç”¨æˆ·å°†åŸºç¡€è®¾æ–½ï¼ˆInfrastructureï¼‰ä¸­çš„åº”ç”¨å•ç‹¬åˆ†å‰²å‡ºæ¥ï¼Œå½¢æˆæ›´å°çš„é¢—ç²’ï¼ˆå®¹å™¨ï¼‰ï¼Œä»è€Œæé«˜äº¤ä»˜è½¯ä»¶çš„é€Ÿåº¦ã€‚ï¼ˆ<a href="/302.html?target=https://zh.wikipedia.org/wiki/Docker">ç»´åŸºç™¾ç§‘</a>ï¼‰</p>
<span id="more"></span>

<h2 id="å®‰è£…Docker"><a href="#å®‰è£…Docker" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h2><h3 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask install docker</span><br></pre></td></tr></table></figure>

<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><ul>
<li>åœ¨CentOSå®‰è£…Docker</li>
</ul>
<h4 id="ä¸‹è½½ä¾èµ–"><a href="#ä¸‹è½½ä¾èµ–" class="headerlink" title="ä¸‹è½½ä¾èµ–"></a>ä¸‹è½½ä¾èµ–</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>

<h4 id="è®¾ç½®ä¸‹è½½Dockerçš„é•œåƒæºï¼ˆå¯é€‰ï¼‰"><a href="#è®¾ç½®ä¸‹è½½Dockerçš„é•œåƒæºï¼ˆå¯é€‰ï¼‰" class="headerlink" title="è®¾ç½®ä¸‹è½½Dockerçš„é•œåƒæºï¼ˆå¯é€‰ï¼‰"></a>è®¾ç½®ä¸‹è½½Dockerçš„é•œåƒæºï¼ˆå¯é€‰ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<h4 id="å®‰è£…Docker-1"><a href="#å®‰è£…Docker-1" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br><span class="line">yum -y install docker-ce</span><br></pre></td></tr></table></figure>

<h2 id="å¯åŠ¨Docker"><a href="#å¯åŠ¨Docker" class="headerlink" title="å¯åŠ¨Docker"></a>å¯åŠ¨Docker</h2><h3 id="MacOS-1"><a href="#MacOS-1" class="headerlink" title="MacOS"></a>MacOS</h3><ul>
<li>ç›´æ¥åœ¨å¯åŠ¨å°æ‰“å¼€Docker.app</li>
</ul>
<h3 id="Linux-1"><a href="#Linux-1" class="headerlink" title="Linux"></a>Linux</h3><h4 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure>

<h4 id="è®¾ç½®å¼€æœºè‡ªå¯"><a href="#è®¾ç½®å¼€æœºè‡ªå¯" class="headerlink" title="è®¾ç½®å¼€æœºè‡ªå¯"></a>è®¾ç½®å¼€æœºè‡ªå¯</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable docker</span><br></pre></td></tr></table></figure>

<h3 id="æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"></a>æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></table></figure>

<h2 id="ä¸­å¤®ä»“åº“"><a href="#ä¸­å¤®ä»“åº“" class="headerlink" title="ä¸­å¤®ä»“åº“"></a>ä¸­å¤®ä»“åº“</h2><ul>
<li>å®˜æ–¹çš„ä¸­å¤®ä»“åº“åœ¨å›½å¤–ï¼ˆ<a target="_blank" rel="noopener" href="https://hub.docker.com/">https://hub.docker.com</a>ï¼‰</li>
<li>å›½å†…æœ‰é•œåƒç½‘ç«™ï¼ˆä¾‹å¦‚ï¼š<a href="/302.html?target=http://hub.daocloud.io">DaoCloud</a>ï¼‰</li>
<li>å…¬å¸æœ‰ç§æœ</li>
</ul>
<h3 id="é…ç½®ç§æœ"><a href="#é…ç½®ç§æœ" class="headerlink" title="é…ç½®ç§æœ"></a>é…ç½®ç§æœ</h3><h4 id="Linux-2"><a href="#Linux-2" class="headerlink" title="Linux"></a>Linux</h4><ul>
<li>ç¼–è¾‘<code>daemon.json</code>é…ç½®æ–‡ä»¶</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li>
</ul>
<blockquote>
<p><code>&lt;ip&gt;</code>ï¼šç§æœip<br><code>&lt;port&gt;</code>ï¼šç§æœç«¯å£å·</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;:[&quot;https://registry.docker-cn.com&quot;],</span><br><span class="line">    &quot;insecure-registries&quot;:[&quot;&lt;ip&gt;:&lt;port&gt;&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>é‡å¯ä¸¤ä¸ªæœåŠ¡</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>

<h2 id="é•œåƒæ“ä½œ"><a href="#é•œåƒæ“ä½œ" class="headerlink" title="é•œåƒæ“ä½œ"></a>é•œåƒæ“ä½œ</h2><h3 id="æ‹‰å–é•œåƒåˆ°æœ¬åœ°"><a href="#æ‹‰å–é•œåƒåˆ°æœ¬åœ°" class="headerlink" title="æ‹‰å–é•œåƒåˆ°æœ¬åœ°"></a>æ‹‰å–é•œåƒåˆ°æœ¬åœ°</h3><blockquote>
<p><code>&lt;name&gt;</code>ï¼šé•œåƒå</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull &lt;name&gt;</span><br></pre></td></tr></table></figure>

<h4 id="æŒ‡å®šç‰ˆæœ¬"><a href="#æŒ‡å®šç‰ˆæœ¬" class="headerlink" title="æŒ‡å®šç‰ˆæœ¬"></a>æŒ‡å®šç‰ˆæœ¬</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull &lt;name&gt;:&lt;version&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹å…¨éƒ¨çš„é•œåƒ"><a href="#æŸ¥çœ‹å…¨éƒ¨çš„é•œåƒ" class="headerlink" title="æŸ¥çœ‹å…¨éƒ¨çš„é•œåƒ"></a>æŸ¥çœ‹å…¨éƒ¨çš„é•œåƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤æœ¬åœ°é•œåƒ"><a href="#åˆ é™¤æœ¬åœ°é•œåƒ" class="headerlink" title="åˆ é™¤æœ¬åœ°é•œåƒ"></a>åˆ é™¤æœ¬åœ°é•œåƒ</h3><blockquote>
<p><code>&lt;image_id&gt;</code>ï¼šé•œåƒæ ‡è¯†ï¼ˆå¯ä»¥ç®€å†™ï¼‰</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å¼ºåˆ¶åˆ é™¤"><a href="#å¼ºåˆ¶åˆ é™¤" class="headerlink" title="å¼ºåˆ¶åˆ é™¤"></a>å¼ºåˆ¶åˆ é™¤</h4><ul>
<li>å¦‚æœå®¹å™¨å­˜åœ¨ï¼Œä¸èƒ½ç›´æ¥åˆ é™¤ï¼Œå¯ä»¥å¼ºåˆ¶åˆ é™¤é•œåƒ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi -f &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹é•œåƒä¸­è®¾ç½®çš„é»˜è®¤å‘½ä»¤"><a href="#æŸ¥çœ‹é•œåƒä¸­è®¾ç½®çš„é»˜è®¤å‘½ä»¤" class="headerlink" title="æŸ¥çœ‹é•œåƒä¸­è®¾ç½®çš„é»˜è®¤å‘½ä»¤"></a>æŸ¥çœ‹é•œåƒä¸­è®¾ç½®çš„é»˜è®¤å‘½ä»¤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker history &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h4 id="æŒ‡å®šä»»æ„å‘½ä»¤æ›¿æ¢é»˜è®¤"><a href="#æŒ‡å®šä»»æ„å‘½ä»¤æ›¿æ¢é»˜è®¤" class="headerlink" title="æŒ‡å®šä»»æ„å‘½ä»¤æ›¿æ¢é»˜è®¤"></a>æŒ‡å®šä»»æ„å‘½ä»¤æ›¿æ¢é»˜è®¤</h4><blockquote>
<p><code>&lt;command&gt;</code>ï¼šLinuxå‘½ä»¤</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it &lt;image_id&gt; &lt;command&gt;</span><br></pre></td></tr></table></figure>

<h3 id="é•œåƒçš„å¯¼å…¥å¯¼å‡ºï¼ˆä¸è§„èŒƒï¼‰"><a href="#é•œåƒçš„å¯¼å…¥å¯¼å‡ºï¼ˆä¸è§„èŒƒï¼‰" class="headerlink" title="é•œåƒçš„å¯¼å…¥å¯¼å‡ºï¼ˆä¸è§„èŒƒï¼‰"></a>é•œåƒçš„å¯¼å…¥å¯¼å‡ºï¼ˆä¸è§„èŒƒï¼‰</h3><h4 id="å¯¼å‡º"><a href="#å¯¼å‡º" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h4><blockquote>
<p><code>&lt;file&gt;</code>ï¼šå¯¼å‡ºåçš„æ–‡ä»¶</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save -o &lt;file&gt; &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i &lt;file&gt;</span><br></pre></td></tr></table></figure>

<h5 id="ä¿®æ”¹å¯¼å…¥åçš„ç©ºåç§°"><a href="#ä¿®æ”¹å¯¼å…¥åçš„ç©ºåç§°" class="headerlink" title="ä¿®æ”¹å¯¼å…¥åçš„ç©ºåç§°"></a>ä¿®æ”¹å¯¼å…¥åçš„ç©ºåç§°</h5><ul>
<li>ä¿®æ”¹å¯¼å…¥åé»˜è®¤çš„åç§°null</li>
</ul>
<blockquote>
<p><code>:&lt;version&gt;</code>ï¼šæ ‡ç­¾ï¼Œé€šå¸¸ä¸ºç‰ˆæœ¬å·ï¼Œé»˜è®¤ä¸ºæœ€æ–°ç‰ˆæœ¬<code>lastest</code>ï¼ˆå¯é€‰ï¼‰</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag &lt;image_id&gt; &lt;name_new&gt;:&lt;version&gt;</span><br></pre></td></tr></table></figure>

<h3 id="é•œåƒçš„å¯¼å…¥å¯¼å‡ºï¼ˆé‡å®šå‘ï¼‰"><a href="#é•œåƒçš„å¯¼å…¥å¯¼å‡ºï¼ˆé‡å®šå‘ï¼‰" class="headerlink" title="é•œåƒçš„å¯¼å…¥å¯¼å‡ºï¼ˆé‡å®šå‘ï¼‰"></a>é•œåƒçš„å¯¼å…¥å¯¼å‡ºï¼ˆé‡å®šå‘ï¼‰</h3><h4 id="å¯¼å‡º-1"><a href="#å¯¼å‡º-1" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save &lt;name&gt; &lt;name&gt;:&lt;version&gt; | gzip &gt; &lt;file&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å¯¼å…¥-1"><a href="#å¯¼å…¥-1" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load &lt; &lt;file&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æ¸…ç†æ‰€æœ‰åç§°ä¸ºç©ºçš„é•œåƒ"><a href="#æ¸…ç†æ‰€æœ‰åç§°ä¸ºç©ºçš„é•œåƒ" class="headerlink" title="æ¸…ç†æ‰€æœ‰åç§°ä¸ºç©ºçš„é•œåƒ"></a>æ¸…ç†æ‰€æœ‰åç§°ä¸ºç©ºçš„é•œåƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker image prune -f</span><br></pre></td></tr></table></figure>

<h2 id="å®¹å™¨çš„æ“ä½œ"><a href="#å®¹å™¨çš„æ“ä½œ" class="headerlink" title="å®¹å™¨çš„æ“ä½œ"></a>å®¹å™¨çš„æ“ä½œ</h2><h3 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h3><blockquote>
<p><code>&lt;name&gt;:&lt;version&gt;</code>ï¼šé•œåƒåå’Œæ ‡ç­¾æŒ‡å®šé•œåƒ<br><code>&lt;image_id&gt;</code>ï¼šé€šè¿‡é•œåƒå”¯ä¸€æ ‡è¯†æŒ‡å®šé•œåƒ</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run &lt;name&gt;:&lt;version&gt;</span><br><span class="line"></span><br><span class="line">docker run &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><blockquote>
<p><code>--detach</code>ã€<code>-d</code>ï¼šåå°è¿è¡Œå®¹å™¨<br><code>--publish</code>ã€<code>-p</code>ï¼šä¸ºäº†æ˜ å°„å½“å‰å®¿ä¸»æœºçš„ç«¯å£å’Œå®¹å™¨çš„ç«¯å£</p>
<blockquote>
<p><code>&lt;port_out&gt;</code>ï¼šå®¿ä¸»æœºç«¯å£<br><code>&lt;port_in&gt;</code>ï¼šå®¹å™¨ç«¯å£</p>
</blockquote>
<p><code>--name &lt;name&gt;</code>ï¼šæŒ‡å®šå®¹å™¨åç§°</p>
<blockquote>
<p><code>&lt;name&gt;</code>ï¼šå®¹å™¨åç§°</p>
</blockquote>
<p><code>-e</code>ï¼šåœ¨å®¹å™¨ä¸­æ·»åŠ ç¯å¢ƒå˜é‡<br><code>-i</code>ï¼šäº¤äº’ï¼Œé€šå¸¸å’Œ-tç»„åˆä½¿ç”¨<br><code>-t</code>ï¼šæä¾›ç»ˆç«¯<br><code>--rm</code>ï¼šå®¹å™¨å…³é—­æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤å®¹å™¨<br><code>--restart=always</code>ï¼šå®¹å™¨æ€»æ˜¯è‡ªåŠ¨å¯åŠ¨ï¼Œå½“dockeré‡å¯ï¼Œå®¹å™¨ä¹Ÿä¼šè‡ªåŠ¨å¯åŠ¨</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p &lt;port_out&gt;:&lt;port_in&gt; --name &lt;name&gt; &lt;name&gt;:&lt;version&gt;</span><br><span class="line"></span><br><span class="line">docker run -d -p &lt;port_out&gt;:&lt;port_in&gt; --name &lt;name&gt; &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h5 id="mysqlåœ¨è¿è¡Œæ—¶æŒ‡å®šåˆå§‹å¯†ç "><a href="#mysqlåœ¨è¿è¡Œæ—¶æŒ‡å®šåˆå§‹å¯†ç " class="headerlink" title="mysqlåœ¨è¿è¡Œæ—¶æŒ‡å®šåˆå§‹å¯†ç "></a>mysqlåœ¨è¿è¡Œæ—¶æŒ‡å®šåˆå§‹å¯†ç </h5><ul>
<li>é€šè¿‡æ·»åŠ ç¯å¢ƒå˜é‡è®¾ç½®åˆå§‹å¯†ç </li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p &lt;port_out&gt;:&lt;port_in&gt; --name &lt;name_in&gt; -e MYSQL_ROOT_PASSWORD=&lt;password&gt; &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹æ­£åœ¨è¿›è¡Œçš„å®¹å™¨"><a href="#æŸ¥çœ‹æ­£åœ¨è¿›è¡Œçš„å®¹å™¨" class="headerlink" title="æŸ¥çœ‹æ­£åœ¨è¿›è¡Œçš„å®¹å™¨"></a>æŸ¥çœ‹æ­£åœ¨è¿›è¡Œçš„å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>

<h4 id="å‚æ•°-1"><a href="#å‚æ•°-1" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><blockquote>
<p><code>-a</code>ï¼šæŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„å®¹å™¨<br><code>-q</code>ï¼šåªæŸ¥çœ‹æ ‡è¯†ï¼Œä¸æŸ¥çœ‹åˆ«çš„å†…å®¹</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps -aq</span><br><span class="line"></span><br><span class="line">docker container ls -a</span><br></pre></td></tr></table></figure>

<h3 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h3><blockquote>
<p><code>&lt;con_id&gt;</code>ï¼šå®¹å™¨çš„å”¯ä¸€æ ‡è¯†</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start &lt;con_id&gt;</span><br></pre></td></tr></table></figure>

<h3 id="é‡å¯å®¹å™¨"><a href="#é‡å¯å®¹å™¨" class="headerlink" title="é‡å¯å®¹å™¨"></a>é‡å¯å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker restart &lt;con_id&gt;</span><br><span class="line"></span><br><span class="line">docker container restart &lt;con_id&gt;</span><br></pre></td></tr></table></figure>

<h3 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker stop &lt;con_id&gt;</span><br><span class="line"></span><br><span class="line">docker container stop &lt;con_id&gt;</span><br></pre></td></tr></table></figure>

<h4 id="åœæ­¢å…¨éƒ¨å®¹å™¨"><a href="#åœæ­¢å…¨éƒ¨å®¹å™¨" class="headerlink" title="åœæ­¢å…¨éƒ¨å®¹å™¨"></a>åœæ­¢å…¨éƒ¨å®¹å™¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps -aq)</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h3><ul>
<li>åˆ é™¤å®¹å™¨ä¹‹å‰è¦åœæ­¢å®¹å™¨</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm &lt;con_id&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å¼ºåˆ¶åˆ é™¤å®¹å™¨"><a href="#å¼ºåˆ¶åˆ é™¤å®¹å™¨" class="headerlink" title="å¼ºåˆ¶åˆ é™¤å®¹å™¨"></a>å¼ºåˆ¶åˆ é™¤å®¹å™¨</h4><ul>
<li>å¦‚æœå®¹å™¨æ­£åœ¨è¿è¡Œï¼Œä¸èƒ½ç›´æ¥åˆ é™¤ï¼Œå¯ä»¥å¼ºåˆ¶åˆ é™¤</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f &lt;con_id&gt;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤å…¨éƒ¨å®¹å™¨"><a href="#åˆ é™¤å…¨éƒ¨å®¹å™¨" class="headerlink" title="åˆ é™¤å…¨éƒ¨å®¹å™¨"></a>åˆ é™¤å…¨éƒ¨å®¹å™¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm $(docker ps -aq)</span><br></pre></td></tr></table></figure>

<h3 id="è¿›å…¥åˆ°å®¹å™¨å†…éƒ¨"><a href="#è¿›å…¥åˆ°å®¹å™¨å†…éƒ¨" class="headerlink" title="è¿›å…¥åˆ°å®¹å™¨å†…éƒ¨"></a>è¿›å…¥åˆ°å®¹å™¨å†…éƒ¨</h3><ul>
<li>ä¸æ¨èåœ¨å®¹å™¨å†…éƒ¨è¿›è¡Œå…³é—­æœåŠ¡çš„æ“ä½œ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it &lt;con_id&gt; bash</span><br><span class="line"></span><br><span class="line">docker exec -it &lt;con_id&gt; &lt;command&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—"><a href="#æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—"></a>æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—</h3><blockquote>
<p><code>-f</code>ï¼šæ»šåŠ¨æŸ¥çœ‹æ—¥å¿—çš„æœ€åå‡ è¡Œ</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker logs &lt;con_id&gt;</span><br><span class="line"></span><br><span class="line">docker container logs &lt;con_id&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æ¸…ç†æ‰€æœ‰ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨"><a href="#æ¸…ç†æ‰€æœ‰ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨" class="headerlink" title="æ¸…ç†æ‰€æœ‰ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨"></a>æ¸…ç†æ‰€æœ‰ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container prune</span><br></pre></td></tr></table></figure>

<h2 id="å¤åˆ¶å®¿ä¸»æœºå†…å®¹åˆ°å®¹å™¨å†…éƒ¨"><a href="#å¤åˆ¶å®¿ä¸»æœºå†…å®¹åˆ°å®¹å™¨å†…éƒ¨" class="headerlink" title="å¤åˆ¶å®¿ä¸»æœºå†…å®¹åˆ°å®¹å™¨å†…éƒ¨"></a>å¤åˆ¶å®¿ä¸»æœºå†…å®¹åˆ°å®¹å™¨å†…éƒ¨</h2><blockquote>
<p><code>&lt;file_old&gt;</code>ï¼šå®¿ä¸»æœºæ–‡ä»¶çš„è·¯å¾„åŠæ–‡ä»¶å<br><code>&lt;file_new&gt;</code>ï¼šå®¹å™¨å†…éƒ¨æ–‡ä»¶æƒ³è¦å­˜æ”¾çš„è·¯å¾„å</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp &lt;file_old&gt; &lt;con_id&gt;:&lt;file_new&gt;</span><br></pre></td></tr></table></figure>

<h2 id="æ•°æ®å·"><a href="#æ•°æ®å·" class="headerlink" title="æ•°æ®å·"></a>æ•°æ®å·</h2><ul>
<li>å°†å®¿ä¸»æœºçš„ä¸€ä¸ªç›®å½•æ˜ å°„åˆ°å®¹å™¨çš„ä¸€ä¸ªç›®å½•ä¸­</li>
<li>å¯ä»¥åœ¨å®¿ä¸»æœºä¸­æ“ä½œç›®å½•ä¸­çš„å†…å®¹ï¼Œé‚£ä¹ˆå®¹å™¨å†…éƒ¨æ˜ å°„çš„æ–‡ä»¶ï¼Œä¹Ÿä¼šè·Ÿç€ä¸€èµ·æ”¹å˜</li>
</ul>
<h3 id="åˆ›å»ºæ•°æ®å·"><a href="#åˆ›å»ºæ•°æ®å·" class="headerlink" title="åˆ›å»ºæ•°æ®å·"></a>åˆ›å»ºæ•°æ®å·</h3><ul>
<li>åˆ›å»ºæ•°æ®å·åï¼Œå®¿ä¸»æœºä¼šäº§ç”Ÿä¸€ä¸ªæ–°ç›®å½•ï¼Œä½œä¸ºæ•°æ®å·äº¤æ¢æ•°æ®çš„ç›®å½•</li>
</ul>
<p><code>/var/lib/docker/volumes/&lt;name&gt;/_data</code></p>
<blockquote>
<p><code>&lt;name&gt;</code>ï¼šæ•°æ®å·åç§°</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create &lt;name&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹æ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯"><a href="#æŸ¥çœ‹æ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹æ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯"></a>æŸ¥çœ‹æ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume inspect &lt;name&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹å…¨éƒ¨æ•°æ®å·"><a href="#æŸ¥çœ‹å…¨éƒ¨æ•°æ®å·" class="headerlink" title="æŸ¥çœ‹å…¨éƒ¨æ•°æ®å·"></a>æŸ¥çœ‹å…¨éƒ¨æ•°æ®å·</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume ls</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤æ•°æ®å·"><a href="#åˆ é™¤æ•°æ®å·" class="headerlink" title="åˆ é™¤æ•°æ®å·"></a>åˆ é™¤æ•°æ®å·</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume rm &lt;name&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æ˜ å°„æ•°æ®å·"><a href="#æ˜ å°„æ•°æ®å·" class="headerlink" title="æ˜ å°„æ•°æ®å·"></a>æ˜ å°„æ•°æ®å·</h3><ul>
<li>ç±»ä¼¼äºæŒ‚è½½æ“ä½œï¼ˆå°†å®¹å™¨å†…éƒ¨çš„æŒ‡å®šç›®å½•æ˜ å°„åˆ°å®¿ä¸»æœºçš„æŒ‡å®šç›®å½•ï¼‰</li>
</ul>
<blockquote>
<p><code>-v</code>ï¼šæŒ‡å®šæ˜ å°„æ•°æ®å·çš„å‚æ•°</p>
<blockquote>
<p><code>&lt;src_out&gt;</code>ï¼šå®šä¹‰ä¸€ä¸ªæ•°æ®å·åœ¨å®¿ä¸»æœºçš„å­˜æ”¾è·¯å¾„åŠç›®å½•åï¼ˆå¦‚æœåœ¨è¿™ä¹‹å‰æ²¡æœ‰åˆ›å»ºè¿‡æ•°æ®å·ï¼ŒDockerä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•å¹¶å°†å…¶ä½œä¸ºæ•°æ®å·æ˜ å°„çš„ç›®å½•ï¼Œç¼ºç‚¹æ˜¯ä¸èƒ½å°†å½“å‰å®¹å™¨å†…éƒ¨çš„æ•°æ®åŒæ­¥å‡ºæ¥ã€‚å¦‚æœåœ¨è¿™ä¹‹å‰åˆ›å»ºè¿‡æ•°æ®å·ï¼Œè¯·æŒ‡å®šè·¯å¾„ä¸ºåˆ›å»ºæ•°æ®å·åçš„é»˜è®¤è·¯å¾„ï¼Œä¼˜ç‚¹æ˜¯èƒ½å°†å®¹å™¨å†…éƒ¨å½“å‰çš„æ•°æ®åŒæ­¥å‡ºæ¥ã€‚æ‰€ä»¥æ¨èå…ˆæ‰‹åŠ¨åˆ›å»ºæ•°æ®å·ï¼Œå†å°†è·¯å¾„æŒ‡å‘æ–°å»ºæ•°æ®å·åçš„é»˜è®¤ä½ç½®ï¼‰<br><code>&lt;src_in&gt;</code>ï¼šæƒ³è¦æ˜ å°„å®¹å™¨å†…éƒ¨ç›®å½•çš„è·¯å¾„</p>
</blockquote>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p &lt;port_out&gt;:&lt;port_in&gt; --name &lt;name_in&gt; -v &lt;src_old&gt;:&lt;src_in&gt; &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å®¹å™¨äº’è”"><a href="#å®¹å™¨äº’è”" class="headerlink" title="å®¹å™¨äº’è”"></a>å®¹å™¨äº’è”</h2><h3 id="åˆ›å»ºè™šæ‹Ÿç½‘ç»œ"><a href="#åˆ›å»ºè™šæ‹Ÿç½‘ç»œ" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿç½‘ç»œ"></a>åˆ›å»ºè™šæ‹Ÿç½‘ç»œ</h3><blockquote>
<p><code>--subnet=172.18.0.0/24</code>ï¼šæŒ‡å®šç½‘æ®µå’Œå­ç½‘æ©ç <br><code>-d</code>ï¼šæŒ‡å®šç½‘ç»œç±»å‹</p>
<blockquote>
<p><code>bridge</code><br><code>overlay</code></p>
</blockquote>
</blockquote>
<blockquote>
<p><code>&lt;name&gt;</code>ï¼šç½‘ç»œåç§°</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create &lt;name&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿç½‘ç»œ"><a href="#æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿç½‘ç»œ" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿç½‘ç»œ"></a>æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿç½‘ç»œ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network ls</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤è™šæ‹Ÿç½‘å¡"><a href="#åˆ é™¤è™šæ‹Ÿç½‘å¡" class="headerlink" title="åˆ é™¤è™šæ‹Ÿç½‘å¡"></a>åˆ é™¤è™šæ‹Ÿç½‘å¡</h3><p>docker network rm <name></p>
<h3 id="æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…"><a href="#æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…"></a>æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect &lt;name&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹å®¿ä¸»æœºä¸Šæ–°å»ºçš„è™šæ‹Ÿç½‘å¡"><a href="#æŸ¥çœ‹å®¿ä¸»æœºä¸Šæ–°å»ºçš„è™šæ‹Ÿç½‘å¡" class="headerlink" title="æŸ¥çœ‹å®¿ä¸»æœºä¸Šæ–°å»ºçš„è™šæ‹Ÿç½‘å¡"></a>æŸ¥çœ‹å®¿ä¸»æœºä¸Šæ–°å»ºçš„è™šæ‹Ÿç½‘å¡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure>

<h3 id="è¿æ¥è™šæ‹Ÿç½‘ç»œ"><a href="#è¿æ¥è™šæ‹Ÿç½‘ç»œ" class="headerlink" title="è¿æ¥è™šæ‹Ÿç½‘ç»œ"></a>è¿æ¥è™šæ‹Ÿç½‘ç»œ</h3><ul>
<li>é»˜è®¤ç½‘æ®µä¸º<code>172.18.0.0</code>ï¼Œé»˜è®¤å®¿ä¸»æœºIPä¸º<code>172.18.0.1</code></li>
</ul>
<blockquote>
<p><code>--ip</code>ï¼šæ‰‹åŠ¨æŒ‡å®šå›ºå®šIP<br><code>--net</code>ï¼šç­‰ä»·äºâ€“network</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --network &lt;name&gt; &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰é•œåƒ"><a href="#è‡ªå®šä¹‰é•œåƒ" class="headerlink" title="è‡ªå®šä¹‰é•œåƒ"></a>è‡ªå®šä¹‰é•œåƒ</h2><ul>
<li>ç›¸å½“äºè‡ªå®šä¹‰æ„å»ºè„šæœ¬Dockfileæ–‡ä»¶ï¼Œé€šè¿‡æ„å»ºè„šæœ¬è‡ªåŠ¨åŒ–æ„å»ºç¯å¢ƒ</li>
</ul>
<h3 id="åˆ›å»ºä¸€ä¸ªDockerfileæ–‡ä»¶"><a href="#åˆ›å»ºä¸€ä¸ªDockerfileæ–‡ä»¶" class="headerlink" title="åˆ›å»ºä¸€ä¸ªDockerfileæ–‡ä»¶"></a>åˆ›å»ºä¸€ä¸ªDockerfileæ–‡ä»¶</h3><ul>
<li>åˆ›å»ºä¸€ä¸ªDockerfileæ–‡ä»¶ï¼ˆæ— æ‰©å±•åï¼‰ï¼Œå¹¶ä¸”æŒ‡å®šè‡ªå®šä¹‰é•œåƒä¿¡æ¯</li>
</ul>
<h3 id="Dockerfileæ–‡ä»¶ä¸­çš„ç‰¹æ®Šå‘½ä»¤"><a href="#Dockerfileæ–‡ä»¶ä¸­çš„ç‰¹æ®Šå‘½ä»¤" class="headerlink" title="Dockerfileæ–‡ä»¶ä¸­çš„ç‰¹æ®Šå‘½ä»¤"></a>Dockerfileæ–‡ä»¶ä¸­çš„ç‰¹æ®Šå‘½ä»¤</h3><blockquote>
<p><code>FROM</code>ï¼šæŒ‡å®šå½“å‰è‡ªå®šä¹‰é•œåƒä»¥æ¥çš„ç¯å¢ƒ<br><code>ADD</code>ï¼šå°†å‹ç¼©åŒ…ä¼ å…¥é•œåƒä¸­çš„æŒ‡å®šç›®å½•ï¼Œå¹¶åŒæ—¶è§£å‹<br><code>RUN</code>ï¼šåœ¨é•œåƒå†…æ‰§è¡Œä¸€æ¡å‘½ä»¤<br><code>ENV</code>ï¼šè®¾ç½®ç¯å¢ƒå˜é‡<br><code>EXPOSE</code>ï¼šæš´éœ²ç«¯å£<br><code>ENTRYPOINT</code>ï¼šè®¾ç½®å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤<br><code>COPY</code>ï¼šå°†ç›¸å¯¹è·¯å¾„ä¸‹çš„å†…å®¹å¤åˆ¶åˆ°è‡ªå®šä¹‰é•œåƒä¸­<br><code>WORKDIR</code>ï¼šå£°æ˜é•œåƒé»˜è®¤çš„å·¥ä½œç›®å½•<br><code>CMD</code>ï¼šéœ€è¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆåœ¨workdirä¸‹æ‰§è¡Œï¼Œcmdå¯ä»¥å†™å¤šä¸ªä½†åªä»¥æœ€åä¸€ä¸ªä¸ºå‡†ï¼‰</p>
</blockquote>
<h3 id="ç¼–è¾‘Dockerfileæ–‡ä»¶"><a href="#ç¼–è¾‘Dockerfileæ–‡ä»¶" class="headerlink" title="ç¼–è¾‘Dockerfileæ–‡ä»¶"></a>ç¼–è¾‘Dockerfileæ–‡ä»¶</h3><ul>
<li>åˆ›å»ºå¹¶ç¼–è¾‘<code>Dockerfile</code>æ–‡ä»¶</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim Dockerfile</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸¾ä¾‹ï¼šåœ¨CentOS7ç³»ç»Ÿä¸Šé…ç½®JDK8ç¯å¢ƒï¼Œå¹¶éƒ¨ç½²Tomcat7æœåŠ¡å™¨</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">FROM centos:7</span><br><span class="line">ADD jdk-8u212-linux-x64.tar.gz /opt/</span><br><span class="line">ADD apache-tomcat-7.0.96.tar.gz /usr/</span><br><span class="line">RUN mv /usr/apache-tomcat-7.0.96 /usr/tomcat</span><br><span class="line">ENV JAVA_HOME=/opt/jdk1.8.0_212 \</span><br><span class="line">    CATALINA_HOME=/usr/tomcat \</span><br><span class="line">    PATH=$PATH:/opt/jdk1.8.0_212/bin:/usr/tomcat/bin</span><br><span class="line">EXPOSE 8080</span><br><span class="line">ENTRYPOINT /usr/tomcat/bin/startup.sh &amp;&amp; tail -F /usr/tomcat/logs/catalina.out</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸¾ä¾‹ï¼šåœ¨Tomcatéƒ¨ç½²JAVAé¡¹ç›®</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FROM centos:7</span><br><span class="line">ADD jdk-8u212-linux-x64.tar.gz /opt/</span><br><span class="line">COPY sp05-eureka-0.0.1-SNAPSHOT.jar /opt/</span><br><span class="line">ENV JAVA_HOME=/opt/jdk1.8.0_212 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/opt/jdk1.8.0_212/bin</span><br><span class="line">ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/opt/sp05-eureka-0.0.1-SNAPSHOT.jar&quot;]</span><br><span class="line">CMD [&quot;--spring.profiles.active=eureka1&quot;, &quot;--server.port=2001&quot;]</span><br></pre></td></tr></table></figure>

<h3 id="é€šè¿‡Dockerfileåˆ¶ä½œé•œåƒ"><a href="#é€šè¿‡Dockerfileåˆ¶ä½œé•œåƒ" class="headerlink" title="é€šè¿‡Dockerfileåˆ¶ä½œé•œåƒ"></a>é€šè¿‡Dockerfileåˆ¶ä½œé•œåƒ</h3><blockquote>
<p><code>&lt;name&gt;</code>ï¼šè‡ªå®šä¹‰çš„é•œåƒåç§°ï¼Œåé¢å¯ä»¥è¿½åŠ <code>:ç‰ˆæœ¬å·</code><br><code>&lt;dockerfile&gt;</code>ï¼šDockerfileæ–‡ä»¶å­˜æ”¾çš„çš„è·¯å¾„ï¼Œè„šæœ¬ä¸­æ¶‰åŠåˆ°çš„æ–‡ä»¶éœ€è¦æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t &lt;name&gt; &lt;dockerfile&gt; </span><br></pre></td></tr></table></figure>

<h2 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h2><p>Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a Compose file to configure your applicationâ€™s services. Then, using a single command, you create and start all the services from your configuration. To learn more about all the features of Compose see the list of features.ï¼ˆ<a target="_blank" rel="noopener" href="https://github.com/docker/compose">Github</a>ï¼‰</p>
<ul>
<li>é€šè¿‡docker-composeæ‰¹é‡ç®¡ç†Dockerå®¹å™¨</li>
</ul>
<h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><ul>
<li>æ·»åŠ æ‰§è¡Œæƒé™</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x docker-compose</span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><h4 id="åˆ›å»ºé…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºé…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºé…ç½®æ–‡ä»¶"></a>åˆ›å»ºé…ç½®æ–‡ä»¶</h4><ul>
<li>é…ç½®æ–‡ä»¶è¦å’Œ<code>docker-compose</code>åœ¨åŒä¸€ç›®å½•ä¸‹</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch docker-compose.yml</span><br></pre></td></tr></table></figure>

<h4 id="ç¼–è¾‘é…ç½®æ–‡ä»¶"><a href="#ç¼–è¾‘é…ç½®æ–‡ä»¶" class="headerlink" title="ç¼–è¾‘é…ç½®æ–‡ä»¶"></a>ç¼–è¾‘é…ç½®æ–‡ä»¶</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim docker-compose.yml</span><br></pre></td></tr></table></figure>

<h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><ul>
<li>åŒæ—¶ç®¡ç†Mysqlå’ŒTomcatçš„é…ç½®ç¤ºä¾‹</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3.1&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mysql:</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3306</span><span class="string">:3306</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">TZ:</span> <span class="string">UTC</span></span><br><span class="line">  <span class="attr">tomcat:</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">tomcat</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">tomcat</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8080</span><span class="string">:8080</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">TZ:</span> <span class="string">UTC</span></span><br></pre></td></tr></table></figure>

<h3 id="å¯åŠ¨docker-composeç®¡ç†çš„å®¹å™¨"><a href="#å¯åŠ¨docker-composeç®¡ç†çš„å®¹å™¨" class="headerlink" title="å¯åŠ¨docker-composeç®¡ç†çš„å®¹å™¨"></a>å¯åŠ¨docker-composeç®¡ç†çš„å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure>

<h4 id="ä»¥åå°å¯åŠ¨"><a href="#ä»¥åå°å¯åŠ¨" class="headerlink" title="ä»¥åå°å¯åŠ¨"></a>ä»¥åå°å¯åŠ¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>

<h3 id="å…³é—­å¹¶åˆ é™¤docker-composeç®¡ç†çš„å®¹å™¨"><a href="#å…³é—­å¹¶åˆ é™¤docker-composeç®¡ç†çš„å®¹å™¨" class="headerlink" title="å…³é—­å¹¶åˆ é™¤docker-composeç®¡ç†çš„å®¹å™¨"></a>å…³é—­å¹¶åˆ é™¤docker-composeç®¡ç†çš„å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose down</span><br></pre></td></tr></table></figure>

<h3 id="å¼€å¯docker-composeç®¡ç†çš„å®¹å™¨"><a href="#å¼€å¯docker-composeç®¡ç†çš„å®¹å™¨" class="headerlink" title="å¼€å¯docker-composeç®¡ç†çš„å®¹å™¨"></a>å¼€å¯docker-composeç®¡ç†çš„å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose start</span><br></pre></td></tr></table></figure>

<h3 id="å…³é—­docker-composeç®¡ç†çš„å®¹å™¨"><a href="#å…³é—­docker-composeç®¡ç†çš„å®¹å™¨" class="headerlink" title="å…³é—­docker-composeç®¡ç†çš„å®¹å™¨"></a>å…³é—­docker-composeç®¡ç†çš„å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose stop</span><br></pre></td></tr></table></figure>

<h3 id="é‡å¯docker-composeç®¡ç†çš„å®¹å™¨"><a href="#é‡å¯docker-composeç®¡ç†çš„å®¹å™¨" class="headerlink" title="é‡å¯docker-composeç®¡ç†çš„å®¹å™¨"></a>é‡å¯docker-composeç®¡ç†çš„å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose restart</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹docker-composeç®¡ç†çš„å®¹å™¨"><a href="#æŸ¥çœ‹docker-composeç®¡ç†çš„å®¹å™¨" class="headerlink" title="æŸ¥çœ‹docker-composeç®¡ç†çš„å®¹å™¨"></a>æŸ¥çœ‹docker-composeç®¡ç†çš„å®¹å™¨</h3><blockquote>
<p><code>-a</code>ï¼šæŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„å®¹å™¨<br><code>-q</code>ï¼šåªæŸ¥çœ‹æ ‡è¯†ï¼Œä¸æŸ¥çœ‹åˆ«çš„å†…å®¹</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose ps</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹docker-composeç®¡ç†çš„å®¹å™¨æ—¥å¿—"><a href="#æŸ¥çœ‹docker-composeç®¡ç†çš„å®¹å™¨æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹docker-composeç®¡ç†çš„å®¹å™¨æ—¥å¿—"></a>æŸ¥çœ‹docker-composeç®¡ç†çš„å®¹å™¨æ—¥å¿—</h3><blockquote>
<p><code>-f</code>ï¼šæ»šåŠ¨æŸ¥çœ‹</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose logs -f</span><br></pre></td></tr></table></figure>

<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1sK4y1s7Cj">å“”å“©å“”å“©â€”â€”åƒé”‹Javaå­¦ä¹ è¥</a><br><a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-install-mysql.html">èœé¸Ÿç¬”è®°</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV17x4y1o75G">å“”å“©å“”å“©â€”â€”äº‘åŸç”ŸæŠ€æœ¯æ¶æ„</a><br><a target="_blank" rel="noopener" href="https://space.bilibili.com/11981663/video">å“”å“©å“”å“©â€”â€”é”¤å­Vå›</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Docker/">Docker</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>