<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘Windowsä¸Šå®‰è£…ssh | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="Windows,SSH">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘Windowsä¸Šå®‰è£…ssh"/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘Windowsä¸Šå®‰è£…ssh</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2024/05/21/Windowsä¸Šå®‰è£…ssh/" rel="bookmark">
        <time class="entry-date published" datetime="2024-05-21T09:45:59.000Z">
          2024-05-21
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Windowsä¸Šå®‰è£…sshå­¦ä¹ ç¬”è®°</p>
<span id="more"></span>

<h2 id="é€šè¿‡ç³»ç»Ÿè®¾ç½®å®‰è£…"><a href="#é€šè¿‡ç³»ç»Ÿè®¾ç½®å®‰è£…" class="headerlink" title="é€šè¿‡ç³»ç»Ÿè®¾ç½®å®‰è£…"></a>é€šè¿‡ç³»ç»Ÿè®¾ç½®å®‰è£…</h2><ul>
<li><code>è®¾ç½®</code>-&gt;<code>åº”ç”¨</code></li>
</ul>
<p><img src="/images/20240521174559/01.webp"></p>
<ul>
<li><code>åº”ç”¨å’ŒåŠŸèƒ½</code>-&gt;<code>å¯é€‰åŠŸèƒ½</code></li>
</ul>
<p><img src="/images/20240521174559/02.webp"></p>
<ul>
<li><code>æ·»åŠ åŠŸèƒ½</code></li>
</ul>
<p><img src="/images/20240521174559/03.webp"></p>
<ul>
<li>å‹¾é€‰<code>OpenSSH æœåŠ¡å™¨</code>-&gt;<code>å®‰è£…</code></li>
</ul>
<p><img src="/images/20240521174559/04.webp"></p>
<h2 id="é€šè¿‡PowerShellå®‰è£…"><a href="#é€šè¿‡PowerShellå®‰è£…" class="headerlink" title="é€šè¿‡PowerShellå®‰è£…"></a>é€šè¿‡PowerShellå®‰è£…</h2><h3 id="æ£€æŸ¥æ˜¯å¦æ˜¯ç®¡ç†å‘˜"><a href="#æ£€æŸ¥æ˜¯å¦æ˜¯ç®¡ç†å‘˜" class="headerlink" title="æ£€æŸ¥æ˜¯å¦æ˜¯ç®¡ç†å‘˜"></a>æ£€æŸ¥æ˜¯å¦æ˜¯ç®¡ç†å‘˜</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(New-Object Security.Principal.WindowsPrincipal([Security.Principal.WindowsIdentity]::GetCurrent())).IsInRole([Security.Principal.WindowsBuiltInRole]::Administrator)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">True</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å®‰è£…çŠ¶æ€"><a href="#æŸ¥çœ‹æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å®‰è£…çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å®‰è£…çŠ¶æ€"></a>æŸ¥çœ‹æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å®‰è£…çŠ¶æ€</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-WindowsCapability -Online | ? Name -like &#x27;OpenSSH*&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨çº¿å®‰è£…"><a href="#åœ¨çº¿å®‰è£…" class="headerlink" title="åœ¨çº¿å®‰è£…"></a>åœ¨çº¿å®‰è£…</h3><h4 id="å®‰è£…sshå®¢æˆ·ç«¯"><a href="#å®‰è£…sshå®¢æˆ·ç«¯" class="headerlink" title="å®‰è£…sshå®¢æˆ·ç«¯"></a>å®‰è£…sshå®¢æˆ·ç«¯</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Add-WindowsCapability -Online -Name OpenSSH.Client~~~~0.0.1.0</span><br></pre></td></tr></table></figure>

<h4 id="å®‰è£…sshæœåŠ¡ç«¯"><a href="#å®‰è£…sshæœåŠ¡ç«¯" class="headerlink" title="å®‰è£…sshæœåŠ¡ç«¯"></a>å®‰è£…sshæœåŠ¡ç«¯</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0</span><br></pre></td></tr></table></figure>

<h3 id="ç¦»çº¿å®‰è£…"><a href="#ç¦»çº¿å®‰è£…" class="headerlink" title="ç¦»çº¿å®‰è£…"></a>ç¦»çº¿å®‰è£…</h3><ul>
<li><p>å¦‚æœæŠ¥é”™<code>Add-WindowsCapability : Add-WindowsCapability å¤±è´¥ã€‚é”™è¯¯ä»£ç  = 0x800f0950</code>å¯ä»¥å°è¯•ç¦»çº¿å®‰è£…</p>
</li>
<li><p>ä¸‹è½½<a href="/302.html?target=https://github.com/PowerShell/Win32-OpenSSH/releases">OpenSSH-Win64.zip</a>å¹¶è§£å‹</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd .\OpenSSH-Win64\</span><br><span class="line">powershell.exe -ExecutionPolicy Bypass -File install-sshd.ps1</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><figure class="highlight text"><figcaption><span>C:\ProgramData\ssh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Port 22</span><br><span class="line">ListenAddress 0.0.0.0</span><br><span class="line">ListenAddress ::</span><br><span class="line">PermitRootLogin yes</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡CMDå¯åŠ¨sshæœåŠ¡"><a href="#é€šè¿‡CMDå¯åŠ¨sshæœåŠ¡" class="headerlink" title="é€šè¿‡CMDå¯åŠ¨sshæœåŠ¡"></a>é€šè¿‡CMDå¯åŠ¨sshæœåŠ¡</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc start sshd</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡CMDè®¾ç½®sshæœåŠ¡å¼€æœºè‡ªå¯"><a href="#é€šè¿‡CMDè®¾ç½®sshæœåŠ¡å¼€æœºè‡ªå¯" class="headerlink" title="é€šè¿‡CMDè®¾ç½®sshæœåŠ¡å¼€æœºè‡ªå¯"></a>é€šè¿‡CMDè®¾ç½®sshæœåŠ¡å¼€æœºè‡ªå¯</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc config sshd start=auto</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡PowerShellé…ç½®é˜²ç«å¢™"><a href="#é€šè¿‡PowerShellé…ç½®é˜²ç«å¢™" class="headerlink" title="é€šè¿‡PowerShellé…ç½®é˜²ç«å¢™"></a>é€šè¿‡PowerShellé…ç½®é˜²ç«å¢™</h2><h3 id="æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™"><a href="#æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™" class="headerlink" title="æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™"></a>æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-NetFirewallRule -Name *ssh*</span><br></pre></td></tr></table></figure>

<h3 id="æ·»åŠ é˜²ç«å¢™è§„åˆ™"><a href="#æ·»åŠ é˜²ç«å¢™è§„åˆ™" class="headerlink" title="æ·»åŠ é˜²ç«å¢™è§„åˆ™"></a>æ·»åŠ é˜²ç«å¢™è§„åˆ™</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">New-NetFirewallRule -Name sshd -DisplayName &#x27;OpenSSH Server (sshd)&#x27; -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22</span><br></pre></td></tr></table></figure>

<h3 id="å¸è½½ssh"><a href="#å¸è½½ssh" class="headerlink" title="å¸è½½ssh"></a>å¸è½½ssh</h3><h4 id="å¸è½½å®¢æˆ·ç«¯"><a href="#å¸è½½å®¢æˆ·ç«¯" class="headerlink" title="å¸è½½å®¢æˆ·ç«¯"></a>å¸è½½å®¢æˆ·ç«¯</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Remove-WindowsCapability -Online -Name OpenSSH.Client~~~~0.0.1.0</span><br></pre></td></tr></table></figure>

<h4 id="å¸è½½æœåŠ¡ç«¯"><a href="#å¸è½½æœåŠ¡ç«¯" class="headerlink" title="å¸è½½æœåŠ¡ç«¯"></a>å¸è½½æœåŠ¡ç«¯</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Remove-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0</span><br></pre></td></tr></table></figure>

<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/fjw044586/article/details/110940729">CSDNâ€”â€”å¤œæœªçœ é£å·²æ¯</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/wengek/article/details/120844573">CSDNâ€”â€”æ–‡å“¥åšå®¢_wengeblog</a><br><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/openssh/openssh_install_firstuse?tabs=gui">Microsoftå®˜æ–¹æ–‡æ¡£</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Windows/">Windows</a><a href="/tags/SSH/">SSH</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>