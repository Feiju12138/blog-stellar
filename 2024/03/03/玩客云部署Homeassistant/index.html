<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘ç©å®¢äº‘éƒ¨ç½²Homeassistant | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="Linux,SmartHome,Homeassistant">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘ç©å®¢äº‘éƒ¨ç½²Homeassistant"/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘ç©å®¢äº‘éƒ¨ç½²Homeassistant</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2024/03/03/ç©å®¢äº‘éƒ¨ç½²Homeassistant/" rel="bookmark">
        <time class="entry-date published" datetime="2024-03-03T06:28:30.000Z">
          2024-03-03
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç©å®¢äº‘éƒ¨ç½²Homeassistant</p>
<span id="more"></span>

<h2 id="ç©å®¢äº‘åˆ·å…¥Armbian"><a href="#ç©å®¢äº‘åˆ·å…¥Armbian" class="headerlink" title="ç©å®¢äº‘åˆ·å…¥Armbian"></a>ç©å®¢äº‘åˆ·å…¥Armbian</h2><p><a href="/2023/09/10/%E7%8E%A9%E5%AE%A2%E4%BA%91%E5%88%B7%E5%85%A5Armbian/">ä¼ é€é—¨</a></p>
<h2 id="é…ç½®Armbianç¯å¢ƒ"><a href="#é…ç½®Armbianç¯å¢ƒ" class="headerlink" title="é…ç½®Armbianç¯å¢ƒ"></a>é…ç½®Armbianç¯å¢ƒ</h2><h3 id="è®¾ç½®æ—¶åŒº"><a href="#è®¾ç½®æ—¶åŒº" class="headerlink" title="è®¾ç½®æ—¶åŒº"></a>è®¾ç½®æ—¶åŒº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>

<h3 id="æ›´æ¢è½¯ä»¶æºï¼ˆå¯é€‰ï¼‰"><a href="#æ›´æ¢è½¯ä»¶æºï¼ˆå¯é€‰ï¼‰" class="headerlink" title="æ›´æ¢è½¯ä»¶æºï¼ˆå¯é€‰ï¼‰"></a>æ›´æ¢è½¯ä»¶æºï¼ˆå¯é€‰ï¼‰</h3><h4 id="æ¸…åå¤§å­¦è½¯ä»¶æº"><a href="#æ¸…åå¤§å­¦è½¯ä»¶æº" class="headerlink" title="æ¸…åå¤§å­¦è½¯ä»¶æº"></a>æ¸…åå¤§å­¦è½¯ä»¶æº</h4><figure class="highlight text"><figcaption><span>/etc/apt/sources.list</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-security main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<h4 id="æ›´æ–°è½¯ä»¶åˆ—è¡¨"><a href="#æ›´æ–°è½¯ä»¶åˆ—è¡¨" class="headerlink" title="æ›´æ–°è½¯ä»¶åˆ—è¡¨"></a>æ›´æ–°è½¯ä»¶åˆ—è¡¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install -y  python3-dev  python3-venv python3-pip libffi-dev libssl-dev libjpeg-dev zlib1g-dev autoconf build-essential libopenjp2-7 libtiff5 libturbojpeg0-dev libpcap-dev tzdata</span><br></pre></td></tr></table></figure>

<h2 id="éƒ¨ç½²Rust"><a href="#éƒ¨ç½²Rust" class="headerlink" title="éƒ¨ç½²Rust"></a>éƒ¨ç½²Rust</h2><h3 id="å®‰è£…Rust"><a href="#å®‰è£…Rust" class="headerlink" title="å®‰è£…Rust"></a>å®‰è£…Rust</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://sh.rustup.rs -sSf | sh</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">info: downloading installer</span><br><span class="line"></span><br><span class="line">Welcome to Rust!</span><br><span class="line"></span><br><span class="line">This will download and install the official compiler for the Rust</span><br><span class="line">programming language, and its package manager, Cargo.</span><br><span class="line"></span><br><span class="line">Rustup metadata and toolchains will be installed into the Rustup</span><br><span class="line">home directory, located at:</span><br><span class="line"></span><br><span class="line">  /home/ha/.rustup</span><br><span class="line"></span><br><span class="line">This can be modified with the RUSTUP_HOME environment variable.</span><br><span class="line"></span><br><span class="line">The Cargo home directory is located at:</span><br><span class="line"></span><br><span class="line">  /home/ha/.cargo</span><br><span class="line"></span><br><span class="line">This can be modified with the CARGO_HOME environment variable.</span><br><span class="line"></span><br><span class="line">The cargo, rustc, rustup and other commands will be added to</span><br><span class="line">Cargo&#x27;s bin directory, located at:</span><br><span class="line"></span><br><span class="line">  /home/ha/.cargo/bin</span><br><span class="line"></span><br><span class="line">This path will then be added to your PATH environment variable by</span><br><span class="line">modifying the profile files located at:</span><br><span class="line"></span><br><span class="line">  /home/ha/.profile</span><br><span class="line">  /home/ha/.bashrc</span><br><span class="line">  /home/ha/.zshenv</span><br><span class="line"></span><br><span class="line">You can uninstall at any time with rustup self uninstall and</span><br><span class="line">these changes will be reverted.</span><br><span class="line"></span><br><span class="line">Current installation options:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   default host triple: armv7-unknown-linux-gnueabihf</span><br><span class="line">     default toolchain: stable (default)</span><br><span class="line">               profile: default</span><br><span class="line">  modify PATH variable: yes</span><br><span class="line"></span><br><span class="line">1) Proceed with installation (default)</span><br><span class="line">2) Customize installation</span><br><span class="line">3) Cancel installation</span><br><span class="line">&gt;1</span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®Rustç¯å¢ƒ"><a href="#é…ç½®Rustç¯å¢ƒ" class="headerlink" title="é…ç½®Rustç¯å¢ƒ"></a>é…ç½®Rustç¯å¢ƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source $HOME/.cargo/env</span><br><span class="line">export CRYPTOGRAPHY_DONT_BUILD_RUST=1</span><br><span class="line">export CARGO_NET_GIT_FETCH_WITH_CLI=true</span><br></pre></td></tr></table></figure>

<h2 id="éƒ¨ç½²Python"><a href="#éƒ¨ç½²Python" class="headerlink" title="éƒ¨ç½²Python"></a>éƒ¨ç½²Python</h2><h3 id="æŸ¥çœ‹Pythonç‰ˆæœ¬å·"><a href="#æŸ¥çœ‹Pythonç‰ˆæœ¬å·" class="headerlink" title="æŸ¥çœ‹Pythonç‰ˆæœ¬å·"></a>æŸ¥çœ‹Pythonç‰ˆæœ¬å·</h3><ul>
<li>ç¡®ä¿Pythonç‰ˆæœ¬ä¸º3.10.6</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -V</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®pipæºï¼ˆå¯é€‰ï¼‰"><a href="#è®¾ç½®pipæºï¼ˆå¯é€‰ï¼‰" class="headerlink" title="è®¾ç½®pipæºï¼ˆå¯é€‰ï¼‰"></a>è®¾ç½®pipæºï¼ˆå¯é€‰ï¼‰</h3><h4 id="æ¸…åå¤§å­¦è½¯ä»¶æº-1"><a href="#æ¸…åå¤§å­¦è½¯ä»¶æº-1" class="headerlink" title="æ¸…åå¤§å­¦è½¯ä»¶æº"></a>æ¸…åå¤§å­¦è½¯ä»¶æº</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºpipè™šæ‹Ÿç¯å¢ƒ"><a href="#åˆ›å»ºpipè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="åˆ›å»ºpipè™šæ‹Ÿç¯å¢ƒ"></a>åˆ›å»ºpipè™šæ‹Ÿç¯å¢ƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3 -m venv homeassistant-pip-env</span><br><span class="line">source homeassistant-pip-env/bin/activate</span><br></pre></td></tr></table></figure>

<h3 id="ä¸‹è½½Homeassistant"><a href="#ä¸‹è½½Homeassistant" class="headerlink" title="ä¸‹è½½Homeassistant"></a>ä¸‹è½½Homeassistant</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install wheel homeassistant</span><br></pre></td></tr></table></figure>

<h2 id="é¦–æ¬¡å¯åŠ¨"><a href="#é¦–æ¬¡å¯åŠ¨" class="headerlink" title="é¦–æ¬¡å¯åŠ¨"></a>é¦–æ¬¡å¯åŠ¨</h2><ul>
<li>é¦–æ¬¡å¯åŠ¨ä¼šå¾ˆæ…¢ï¼Œéœ€è¦è€å¿ƒç­‰å¾…</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hass</span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®å¼€æœºè‡ªå¯"><a href="#é…ç½®å¼€æœºè‡ªå¯" class="headerlink" title="é…ç½®å¼€æœºè‡ªå¯"></a>é…ç½®å¼€æœºè‡ªå¯</h2><h3 id="åˆ›å»ºé…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºé…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºé…ç½®æ–‡ä»¶"></a>åˆ›å»ºé…ç½®æ–‡ä»¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/systemd/system/homeassistant.service</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><figcaption><span>/etc/systemd/system/homeassistant.service</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Home Assistant</span><br><span class="line">After=network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=ha</span><br><span class="line">WorkingDirectory=/home/ha/.homeassistant</span><br><span class="line">ExecStart=/home/ha/homeassistant-pip-env/bin/hass -c /home/ha/.homeassistant</span><br><span class="line">RestartForceExitStatus=100</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®ä¸ºå¼€æœºè‡ªå¯"><a href="#è®¾ç½®ä¸ºå¼€æœºè‡ªå¯" class="headerlink" title="è®¾ç½®ä¸ºå¼€æœºè‡ªå¯"></a>è®¾ç½®ä¸ºå¼€æœºè‡ªå¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable homeassistant</span><br></pre></td></tr></table></figure>

<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2><ul>
<li>æµè§ˆå™¨è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8123/">http://localhost:8123</a></li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="/302.html?target=https://zhuanlan.zhihu.com/p/614947341">çŸ¥ä¹â€”â€”èµµä¸œé¢–</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Linux/">Linux</a><a href="/tags/SmartHome/">SmartHome</a><a href="/tags/Homeassistant/">Homeassistant</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>