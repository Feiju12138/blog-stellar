<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘Goè¯­è¨€çš„Validator | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="Go">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘Goè¯­è¨€çš„Validator"/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘Goè¯­è¨€çš„Validator</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2023/10/04/Goè¯­è¨€çš„Validator/" rel="bookmark">
        <time class="entry-date published" datetime="2023-10-04T14:07:51.000Z">
          2023-10-04
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Goè¯­è¨€é€šè¿‡Validatorå®ç°ç»“æ„ä½“çš„å­—æ®µå€¼éªŒè¯ï¼Œåœ¨å®ä¾‹åŒ–ç»“æ„ä½“å˜é‡æ—¶åªæœ‰æ‰€æœ‰å­—æ®µçš„å€¼éƒ½ç¬¦åˆæ ¡éªŒè§„åˆ™æ‰èƒ½è¢«æˆåŠŸå®ä¾‹åŒ–</p>
<span id="more"></span>

<h2 id="ä¸‹è½½ä¾èµ–"><a href="#ä¸‹è½½ä¾èµ–" class="headerlink" title="ä¸‹è½½ä¾èµ–"></a>ä¸‹è½½ä¾èµ–</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/go-playground/validator/v10</span><br></pre></td></tr></table></figure>

<h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><blockquote>
<p><code>validate.SetTagName(&quot;&quot;)</code>ï¼šè®¾ç½®æ ‡ç­¾å</p>
<blockquote>
<p><code>validate</code>ï¼šç¼ºçœå€¼ï¼Œæ ‡ç­¾å</p>
</blockquote>
</blockquote>
<figure class="highlight go"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/go-playground/validator/v10&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> validate *validator</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">    validate = validator.New()</span><br><span class="line">    validate.SetTagName(<span class="string">&quot;validate&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ ‡ç­¾åˆ†éš”ç¬¦"><a href="#æ ‡ç­¾åˆ†éš”ç¬¦" class="headerlink" title="æ ‡ç­¾åˆ†éš”ç¬¦"></a>æ ‡ç­¾åˆ†éš”ç¬¦</h2><blockquote>
<p><code>,</code>ï¼šéœ€è¦é€šè¿‡å¤šä¸ªéªŒè¯<br><code>|</code>ï¼šåªéœ€è¦é€šè¿‡ä¸€ç§éªŒè¯<br><code>-</code>ï¼šè·³è¿‡è¯¥å­—æ®µçš„éªŒè¯</p>
</blockquote>
<h2 id="å­—ç¬¦ä¸²æ ¡éªŒ"><a href="#å­—ç¬¦ä¸²æ ¡éªŒ" class="headerlink" title="å­—ç¬¦ä¸²æ ¡éªŒ"></a>å­—ç¬¦ä¸²æ ¡éªŒ</h2><blockquote>
<p><code>alpha</code>ï¼šå­—æ¯<br><code>alphanum</code>ï¼šå­—æ¯å’Œæ•°å­—<br><code>alphaunicode</code>ï¼šå­—æ¯å’ŒUnicodeå­—ç¬¦ï¼ˆåŒ…å«ä¸­æ–‡ï¼‰<br><code>alphanumunicode</code>ï¼šå­—æ¯å’Œæ•°å­—å’ŒUnicodeå­—ç¬¦ï¼ˆåŒ…å«ä¸­æ–‡ï¼‰<br><code>ascii</code>ï¼šASCIIå­—ç¬¦<br><code>contains=å­—ç¬¦ä¸²</code>ï¼šåŒ…å«æŒ‡å®šå­—ç¬¦ä¸²<br><code>excludes=å­—ç¬¦ä¸²</code>ï¼šä¸åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²<br><code>startswith=å­—ç¬¦ä¸²</code>ï¼šä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´<br><code>endswith=å­—ç¬¦ä¸²</code>ï¼šä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾<br><code>startsnowith=å­—ç¬¦ä¸²</code>ï¼šä¸ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´<br><code>endsnowith=å­—ç¬¦ä¸²</code>ï¼šä¸ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾<br><code>lowercase</code>ï¼šå­—ç¬¦ä¸²ä¸­çš„å­—æ¯å…¨æ˜¯å°å†™<br><code>uppercase</code>ï¼šå­—ç¬¦ä¸²ä¸­çš„å­—æ¯å…¨æ˜¯å¤§å†™<br><code>boolean</code>ï¼šå¸ƒå°”å€¼å­—ç¬¦ä¸²<br><code>multibyte</code>ï¼šå¤šå­—èŠ‚å­—ç¬¦ä¸²<br><code>number</code>ï¼šæ•´å‹æ•°å€¼å­—ç¬¦ä¸²<br><code>numeric</code>ï¼šæ•´å‹æ•°å€¼å’Œæµ®ç‚¹å‹æ•°å€¼å­—ç¬¦ä¸²</p>
</blockquote>
<h3 id="æ ¼å¼åŒ–å­—ç¬¦ä¸²æ ¡éªŒ"><a href="#æ ¼å¼åŒ–å­—ç¬¦ä¸²æ ¡éªŒ" class="headerlink" title="æ ¼å¼åŒ–å­—ç¬¦ä¸²æ ¡éªŒ"></a>æ ¼å¼åŒ–å­—ç¬¦ä¸²æ ¡éªŒ</h3><blockquote>
<p><code>base64</code>ï¼šBase64æ ¼å¼å­—ç¬¦ä¸²<br><code>base64url</code>ï¼šBase64æ ¼å¼URLå­—ç¬¦ä¸²<br><code>credit_card</code>ï¼šä¿¡ç”¨å¡å·å­—ç¬¦ä¸²<br><code>datetime=2006-01-02 15:04:05</code>ï¼šæŒ‡å®šæ—¥æœŸæ ¼å¼çš„å­—ç¬¦ä¸²<br><code>e164</code>ï¼šåŒ…å«å›½å®¶åŒºå·çš„æ‰‹æœºå·æ ¼å¼å­—ç¬¦ä¸²ï¼Œå¦‚ï¼š<code>+8613800000000</code><br><code>email</code>ï¼šç”µå­é‚®ä»¶æ ¼å¼å­—ç¬¦ä¸²<br><code>hexadecimal</code>ï¼š16è¿›åˆ¶å­—ç¬¦ä¸²<br><code>json</code>ï¼šJSONæ ¼å¼å­—ç¬¦ä¸²<br><code>jwt</code>ï¼šJWTæ ¼å¼å­—ç¬¦ä¸²<br><code>longitude</code>ï¼šç»åº¦æ ¼å¼å­—ç¬¦ä¸²<br><code>latitude</code>ï¼šçº¬åº¦æ ¼å¼å­—ç¬¦ä¸²<br><code>timezone</code>ï¼šæ—¶åŒºæ ¼å¼å­—ç¬¦ä¸²ï¼Œå¦‚ï¼š<code>Asia/Shanghai</code><br><code>iscolor</code>ï¼šé¢œè‰²å­—ç¬¦ä¸²<br><code>country_code</code>ï¼šå›½å®¶ä»£ç å­—ç¬¦ä¸²</p>
</blockquote>
<h3 id="ç½‘ç»œåœ°å€æ ¡éªŒ"><a href="#ç½‘ç»œåœ°å€æ ¡éªŒ" class="headerlink" title="ç½‘ç»œåœ°å€æ ¡éªŒ"></a>ç½‘ç»œåœ°å€æ ¡éªŒ</h3><blockquote>
<p><code>fqdn</code>ï¼šåŸŸå<br><code>hostname</code>ï¼šä¸»æœºå<br><code>hostname_port</code>ï¼šä¸»æœºåå’Œç«¯å£å·<br><code>ip</code>ï¼šIPv4åœ°å€å’ŒIPv6åœ°å€<br><code>ipv4</code>ï¼šIPv4åœ°å€<br><code>ipv6</code>ï¼šIPv6åœ°å€<br><code>mac</code>ï¼šMACåœ°å€<br><code>uri</code>ï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦<br><code>url</code>ï¼šç»Ÿä¸€èµ„æºå®šä½ç¬¦<br><code>url_encode</code>ï¼šURLç¼–ç çš„ç»Ÿä¸€èµ„æºå®šä½ç¬¦</p>
</blockquote>
<h2 id="æ•°å€¼æ¯”è¾ƒæ ¡éªŒ"><a href="#æ•°å€¼æ¯”è¾ƒæ ¡éªŒ" class="headerlink" title="æ•°å€¼æ¯”è¾ƒæ ¡éªŒ"></a>æ•°å€¼æ¯”è¾ƒæ ¡éªŒ</h2><blockquote>
<p><code>eq=0</code>ï¼šç­‰äº<br><code>gt=0</code>ï¼šå¤§äº<br><code>lt=0</code>ï¼šå°äº<br><code>get=0</code>ï¼šå¤§äºç­‰äº<br><code>let=0</code>ï¼šå°äºç­‰äº<br><code>ne=0</code>ï¼šä¸ç­‰äº</p>
</blockquote>
<h2 id="å¿…å¡«æ ¡éªŒ"><a href="#å¿…å¡«æ ¡éªŒ" class="headerlink" title="å¿…å¡«æ ¡éªŒ"></a>å¿…å¡«æ ¡éªŒ</h2><h3 id="å¿…å¡«"><a href="#å¿…å¡«" class="headerlink" title="å¿…å¡«"></a>å¿…å¡«</h3><ul>
<li>å¿…é¡»ä¸ä¸ºé›¶å€¼</li>
</ul>
<blockquote>
<p><code>required</code>ï¼šå¿…å¡«<br><code>required_if=å­—æ®µå å€¼</code>ï¼šå½“æŒ‡å®šå­—æ®µä¸ºæŒ‡å®šå€¼æ—¶ï¼Œå¿…å¡«<br><code>required_unless=å­—æ®µå å€¼</code>ï¼šå½“æŒ‡å®šå­—æ®µä¸ä¸ºæŒ‡å®šå€¼æ—¶ï¼Œå¿…å¡«<br><code>required_with=å­—æ®µå</code>ï¼šå½“æŒ‡å®šå­—æ®µçš„å€¼ä¸ä¸ºé›¶å€¼æ—¶ï¼Œå¿…å¡«<br><code>required_with_all=å­—æ®µå1 å­—æ®µå2</code>ï¼šå½“æŒ‡å®šå¤šä¸ªå­—æ®µçš„å€¼éƒ½ä¸ä¸ºé›¶å€¼æ—¶ï¼Œå¿…å¡«<br><code>required_without=å­—æ®µå</code>ï¼šå½“æŒ‡å®šå­—æ®µä¸ºé›¶å€¼æ—¶ï¼Œå¿…å¡«<br><code>required_without_all=å­—æ®µå1 å­—æ®µå2</code>ï¼šå½“æŒ‡å®šå¤šä¸ªå­—æ®µéƒ½ä¸ºé›¶å€¼æ—¶ï¼Œå¿…å¡«</p>
</blockquote>
<h3 id="å¿…ä¸å¡«"><a href="#å¿…ä¸å¡«" class="headerlink" title="å¿…ä¸å¡«"></a>å¿…ä¸å¡«</h3><ul>
<li>å¿…é¡»ä¸ºé›¶å€¼</li>
</ul>
<blockquote>
<p><code>excluded_with=å­—æ®µå</code>ï¼šå½“æŒ‡å®šå­—æ®µçš„å€¼ä¸ä¸ºé›¶å€¼æ—¶ï¼Œå¿…ä¸å¡«<br><code>excluded_with_all=å­—æ®µå1 å­—æ®µå2</code>ï¼šå½“æŒ‡å®šå¤šä¸ªå­—æ®µçš„å€¼éƒ½ä¸ä¸ºé›¶å€¼æ—¶ï¼Œå¿…ä¸å¡«<br><code>excluded_without=å­—æ®µå</code>ï¼šå½“æŒ‡å®šå­—æ®µä¸ºé›¶å€¼æ—¶ï¼Œå¿…ä¸å¡«<br><code>excluded_without_all=å­—æ®µå1 å­—æ®µå2</code>ï¼šå½“æŒ‡å®šå¤šä¸ªå­—æ®µéƒ½ä¸ºé›¶å€¼æ—¶ï¼Œå¿…ä¸å¡«</p>
</blockquote>
<h2 id="ç›®å½•æ–‡ä»¶è·¯å¾„æ ¡éªŒ"><a href="#ç›®å½•æ–‡ä»¶è·¯å¾„æ ¡éªŒ" class="headerlink" title="ç›®å½•æ–‡ä»¶è·¯å¾„æ ¡éªŒ"></a>ç›®å½•æ–‡ä»¶è·¯å¾„æ ¡éªŒ</h2><blockquote>
<p><code>dir</code>ï¼šç›®å½•è·¯å¾„<br><code>file</code>ï¼šæ–‡ä»¶è·¯å¾„</p>
</blockquote>
<h2 id="å…¶ä»–æ ¡éªŒ"><a href="#å…¶ä»–æ ¡éªŒ" class="headerlink" title="å…¶ä»–æ ¡éªŒ"></a>å…¶ä»–æ ¡éªŒ</h2><blockquote>
<p><code>isdefault</code>ï¼šé›¶å€¼<br><code>len</code>ï¼šå­—ç¬¦ä¸²é•¿åº¦<br><code>max</code>ï¼šæœ€å¤§å€¼ï¼Œå¯ç”¨äºæ•°å€¼ã€å­—ç¬¦ä¸²ã€åˆ‡ç‰‡ã€é›†åˆ<br><code>min</code>ï¼šæœ€å°å€¼ï¼Œå¯ç”¨äºæ•°å€¼ã€å­—ç¬¦ä¸²ã€åˆ‡ç‰‡ã€é›†åˆ<br><code>oneof=&lt;value_1&gt; &lt;value_2&gt;</code>ï¼šæ‰€æœ‰æšä¸¾çš„å€¼çš„å…¶ä¸­ä¹‹ä¸€<br><code>omitempty</code>ï¼šå¦‚æœæ²¡æœ‰å€¼ï¼Œå°±è·³è¿‡è¯¥å­—æ®µçš„éªŒè¯<br><code>dive</code>ï¼šæ·±å…¥ä¸€å±‚éªŒè¯ï¼Œé€šå¸¸åœ¨åˆ‡ç‰‡ç±»å‹å­—æ®µæˆ–æ˜ å°„ç±»å‹å­—æ®µä¸Šä½¿ç”¨</p>
</blockquote>
<h2 id="ç›¸å¯¹äºå…¶ä»–å­—æ®µæ ¡éªŒ"><a href="#ç›¸å¯¹äºå…¶ä»–å­—æ®µæ ¡éªŒ" class="headerlink" title="ç›¸å¯¹äºå…¶ä»–å­—æ®µæ ¡éªŒ"></a>ç›¸å¯¹äºå…¶ä»–å­—æ®µæ ¡éªŒ</h2><h3 id="ç›¸å¯¹äºå…¶ä»–åŸºæœ¬ç±»å‹çš„å­—æ®µæ ¡éªŒ"><a href="#ç›¸å¯¹äºå…¶ä»–åŸºæœ¬ç±»å‹çš„å­—æ®µæ ¡éªŒ" class="headerlink" title="ç›¸å¯¹äºå…¶ä»–åŸºæœ¬ç±»å‹çš„å­—æ®µæ ¡éªŒ"></a>ç›¸å¯¹äºå…¶ä»–åŸºæœ¬ç±»å‹çš„å­—æ®µæ ¡éªŒ</h3><blockquote>
<p><code>eqfield=å­—æ®µå</code>ï¼šç­‰äºå½“å‰ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>gtfield=å­—æ®µå</code>ï¼šå¤§äºå½“å‰ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>ltfield=å­—æ®µå</code>ï¼šå°äºå½“å‰ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>gtefield=å­—æ®µå</code>ï¼šå¤§äºç­‰äºå½“å‰ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>ltefield=å­—æ®µå</code>ï¼šå°äºç­‰äºå½“å‰ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>nefield=å­—æ®µå</code>ï¼šä¸ç­‰äºå½“å‰ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>fieldcontains=å­—æ®µå1 å­—æ®µå2</code>ï¼šåŒ…å«åœ¨å½“å‰ç»“æ„ä½“çš„æŒ‡å®šå¤šä¸ªå­—æ®µå€¼<br><code>fieldexcludes=å­—æ®µå1 å­—æ®µå2</code>ï¼šä¸åŒ…å«åœ¨å½“å‰ç»“æ„ä½“çš„æŒ‡å®šå¤šä¸ªå­—æ®µå€¼</p>
</blockquote>
<h3 id="ç›¸å¯¹äºå…¶ä»–ç»“æ„ä½“ç±»å‹çš„å­—æ®µæ ¡éªŒ"><a href="#ç›¸å¯¹äºå…¶ä»–ç»“æ„ä½“ç±»å‹çš„å­—æ®µæ ¡éªŒ" class="headerlink" title="ç›¸å¯¹äºå…¶ä»–ç»“æ„ä½“ç±»å‹çš„å­—æ®µæ ¡éªŒ"></a>ç›¸å¯¹äºå…¶ä»–ç»“æ„ä½“ç±»å‹çš„å­—æ®µæ ¡éªŒ</h3><blockquote>
<p><code>eqcsfield=å­—æ®µå.å­—æ®µå</code>ï¼šç­‰äºå­ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>gtcsfield=å­—æ®µå.å­—æ®µå</code>ï¼šå¤§äºå­ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>ltcsfield=å­—æ®µå.å­—æ®µå</code>ï¼šå°äºå­ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>gtecsfield=å­—æ®µå.å­—æ®µå</code>ï¼šå¤§äºç­‰äºå­ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>ltecsfield=å­—æ®µå.å­—æ®µå</code>ï¼šå°äºç­‰äºå­ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼<br><code>necsfield=å­—æ®µå.å­—æ®µå</code>ï¼šä¸ç­‰äºå­ç»“æ„ä½“çš„æŒ‡å®šå­—æ®µå€¼</p>
</blockquote>
<h2 id="åœ¨ç»“æ„ä½“ä¸Šå®šä¹‰æ ¡éªŒæ ‡ç­¾"><a href="#åœ¨ç»“æ„ä½“ä¸Šå®šä¹‰æ ¡éªŒæ ‡ç­¾" class="headerlink" title="åœ¨ç»“æ„ä½“ä¸Šå®šä¹‰æ ¡éªŒæ ‡ç­¾"></a>åœ¨ç»“æ„ä½“ä¸Šå®šä¹‰æ ¡éªŒæ ‡ç­¾</h2><blockquote>
<p><code>min=1</code>ï¼šåˆ‡ç‰‡çš„æœ€å°é•¿åº¦<br><code>min=2</code>ï¼šæ¯ä¸ªå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ç»“æ„ä½“å <span class="keyword">struct</span> &#123;</span><br><span class="line">    å­—æ®µå <span class="type">string</span> <span class="string">`validate:&quot;required,alpha&quot;`</span></span><br><span class="line">    å­—æ®µå []<span class="type">string</span> <span class="string">`validate:&quot;required,min=1,dive,required,alpha,min=2&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰å­—æ®µç±»å‹çš„æ ¡éªŒ"><a href="#è‡ªå®šä¹‰å­—æ®µç±»å‹çš„æ ¡éªŒ" class="headerlink" title="è‡ªå®šä¹‰å­—æ®µç±»å‹çš„æ ¡éªŒ"></a>è‡ªå®šä¹‰å­—æ®µç±»å‹çš„æ ¡éªŒ</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ç»“æ„ä½“å <span class="keyword">struct</span> &#123;</span><br><span class="line">    å­—æ®µå è‡ªå®šä¹‰çš„ç±»å‹<span class="number">1</span></span><br><span class="line">    å­—æ®µå è‡ªå®šä¹‰çš„ç±»å‹<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    validate.RegisterCustomTypeFunc(å‡½æ•°å, è‡ªå®šä¹‰çš„ç±»å‹<span class="number">1</span>, è‡ªå®šä¹‰çš„ç±»å‹<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">var</span> ç»“æ„ä½“å˜é‡å = ç»“æ„ä½“å&#123;&#125;</span><br><span class="line">    err := validate.Struct(ç»“æ„ä½“å˜é‡å)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> å‡½æ•°å<span class="params">(field reflect.Value)</span></span> <span class="keyword">interface</span>&#123;&#125; &#123;</span><br><span class="line">    <span class="keyword">if</span> value, ok := field.Interface().(æ–­è¨€è¯¥å­—æ®µåŸæœ¬çš„ç±»å‹); ok &#123;</span><br><span class="line">        res, err := value.Value()</span><br><span class="line">        <span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="comment">// è¿”å›å­—æ®µç±»å‹</span></span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›ç©ºæŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰ç»“æ„ä½“çš„æ ¡éªŒ"><a href="#è‡ªå®šä¹‰ç»“æ„ä½“çš„æ ¡éªŒ" class="headerlink" title="è‡ªå®šä¹‰ç»“æ„ä½“çš„æ ¡éªŒ"></a>è‡ªå®šä¹‰ç»“æ„ä½“çš„æ ¡éªŒ</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ç»“æ„ä½“å <span class="keyword">struct</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> ç»“æ„ä½“å˜é‡å = ç»“æ„ä½“å&#123;&#125;</span><br><span class="line">    validate.RegisterStructValidation(å‡½æ•°å, ç»“æ„ä½“å˜é‡å)</span><br><span class="line">    err := validate.Struct(ç»“æ„ä½“å˜é‡å)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> å‡½æ•°å<span class="params">(structLevel validator.StructLevel)</span></span> &#123;</span><br><span class="line">    ç»“æ„ä½“å˜é‡å := structLevel.Current().Interface().(ç»“æ„ä½“å)</span><br><span class="line">    <span class="keyword">if</span> åˆ¤æ–­æ¡ä»¶ &#123;</span><br><span class="line">        <span class="comment">// æ ¡éªŒä¸é€šè¿‡</span></span><br><span class="line">        structLevel.ReportError(æ ¡éªŒæœ‰è¯¯çš„å­—æ®µ, <span class="string">&quot;å­—æ®µå&quot;</span>, <span class="string">&quot;ç»“æ„ä½“å­—æ®µå&quot;</span>, <span class="string">&quot;æ ‡ç­¾&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰æ ‡ç­¾çš„æ ¡éªŒ"><a href="#è‡ªå®šä¹‰æ ‡ç­¾çš„æ ¡éªŒ" class="headerlink" title="è‡ªå®šä¹‰æ ‡ç­¾çš„æ ¡éªŒ"></a>è‡ªå®šä¹‰æ ‡ç­¾çš„æ ¡éªŒ</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ç»“æ„ä½“å <span class="keyword">struct</span> &#123;</span><br><span class="line">    å­—æ®µå <span class="type">string</span> <span class="string">`validate:&quot;è‡ªå®šä¹‰æ ‡ç­¾&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    validate.RegisterValidation(<span class="string">&quot;è‡ªå®šä¹‰æ ‡ç­¾&quot;</span>, å‡½æ•°å)</span><br><span class="line">    <span class="keyword">var</span> ç»“æ„ä½“å˜é‡å = ç»“æ„ä½“å&#123;&#125;</span><br><span class="line">    err := validate.Struct(ç»“æ„ä½“å˜é‡å)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> å‡½æ•°å<span class="params">(fieldLevel validator.FieldLevel)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    value := fieldLevel.Field().<span class="type">string</span>()</span><br><span class="line">    <span class="keyword">if</span> åˆ¤æ–­æ¡ä»¶ &#123;</span><br><span class="line">        <span class="comment">// éªŒè¯ä¸é€šè¿‡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éªŒè¯é€šè¿‡</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Mapç±»å‹æ•°æ®éªŒè¯"><a href="#Mapç±»å‹æ•°æ®éªŒè¯" class="headerlink" title="Mapç±»å‹æ•°æ®éªŒè¯"></a>Mapç±»å‹æ•°æ®éªŒè¯</h2><ul>
<li>å®šä¹‰ä¸€ä¸ªä¸åŸæ•°æ®ç›¸åŒç»“æ„çš„Mapç±»å‹æ•°æ®ä½œä¸ºéªŒè¯è§„åˆ™</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    å˜é‡å := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;key1&quot;</span>: <span class="string">&quot;value&quot;</span>, <span class="string">&quot;key2&quot;</span>: <span class="string">&quot;value&quot;</span>&#125;</span><br><span class="line">    rules := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;key1&quot;</span>: <span class="string">&quot;required&quot;</span>, <span class="string">&quot;key2&quot;</span>: <span class="string">&quot;required&quot;</span>&#125;</span><br><span class="line">    err := validate.ValidateMap(å˜é‡å, rules)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœMapä¸­å­˜å‚¨äº†åˆ‡ç‰‡ï¼Œåªéœ€è¦æŒ‡å®šä¸€æ¬¡éªŒè¯è§„åˆ™å³å¯</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    å˜é‡å := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;key1&quot;</span>: <span class="string">&quot;value&quot;</span>,</span><br><span class="line">        <span class="string">&quot;key2&quot;</span>: []<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;key3&quot;</span>: <span class="string">&quot;value&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;key3&quot;</span>: <span class="string">&quot;value&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    rules := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;key1&quot;</span>: <span class="string">&quot;value&quot;</span>,</span><br><span class="line">        <span class="string">&quot;key2&quot;</span>: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">            <span class="string">&quot;key3&quot;</span>: <span class="string">&quot;required&quot;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    err := validate.ValidateMap(å˜é‡å, rules)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡Mapç±»å‹çš„è§„åˆ™éªŒè¯ç»“æ„ä½“"><a href="#é€šè¿‡Mapç±»å‹çš„è§„åˆ™éªŒè¯ç»“æ„ä½“" class="headerlink" title="é€šè¿‡Mapç±»å‹çš„è§„åˆ™éªŒè¯ç»“æ„ä½“"></a>é€šè¿‡Mapç±»å‹çš„è§„åˆ™éªŒè¯ç»“æ„ä½“</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ç»“æ„ä½“å <span class="keyword">struct</span> &#123;</span><br><span class="line">    å­—æ®µå <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ç»“æ„ä½“å˜é‡å := ç»“æ„ä½“å&#123;å­—æ®µå: å­—æ®µå€¼&#125;</span><br><span class="line">    rules := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;å­—æ®µå&quot;</span>: <span class="string">&quot;required&quot;</span>&#125;</span><br><span class="line">    validate.RegisterStructValidationMapRules(rules, ç»“æ„ä½“å&#123;&#125;)</span><br><span class="line">    err := validate.Struct(ç»“æ„ä½“å˜é‡å)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="/302.html?target=https://www.bilibili.com/video/BV1ox4y1d7uZ/">å“”å“©å“”å“©â€”â€”Linux-åç«¯æ”»åŸç‹®</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Go/">Go</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>