<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘Ginå­¦ä¹ ç¬”è®° | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="Go,Gin">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘Ginå­¦ä¹ ç¬”è®°"/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘Ginå­¦ä¹ ç¬”è®°</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2023/03/27/Ginå­¦ä¹ ç¬”è®°/" rel="bookmark">
        <time class="entry-date published" datetime="2023-03-27T06:35:34.000Z">
          2023-03-27
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Gin æ˜¯ä¸€ä¸ªç”¨ Go (Golang) ç¼–å†™çš„ Web æ¡†æ¶ã€‚ å®ƒå…·æœ‰ç±»ä¼¼ martini çš„ APIï¼Œæ€§èƒ½è¦å¥½å¾—å¤šï¼Œå¤šäºäº† httprouterï¼Œé€Ÿåº¦æé«˜äº† 40 å€ã€‚ å¦‚æœæ‚¨éœ€è¦æ€§èƒ½å’Œè‰¯å¥½çš„ç”Ÿäº§åŠ›ï¼Œæ‚¨ä¸€å®šä¼šå–œæ¬¢ Ginã€‚ï¼ˆ<a href="/302.html?target=https://gin-gonic.com/zh-cn/docs/introduction/">å®˜æ–¹</a>ï¼‰</p>
<span id="more"></span>

<h2 id="ä¸‹è½½ä¾èµ–"><a href="#ä¸‹è½½ä¾èµ–" class="headerlink" title="ä¸‹è½½ä¾èµ–"></a>ä¸‹è½½ä¾èµ–</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> get github.com/gin-gonic/gin</span><br></pre></td></tr></table></figure>

<h2 id="å¼•å…¥æ¨¡å—"><a href="#å¼•å…¥æ¨¡å—" class="headerlink" title="å¼•å…¥æ¨¡å—"></a>å¼•å…¥æ¨¡å—</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="è·å–Engineå¯¹è±¡"><a href="#è·å–Engineå¯¹è±¡" class="headerlink" title="è·å–Engineå¯¹è±¡"></a>è·å–Engineå¯¹è±¡</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">engine := gin.New()</span><br></pre></td></tr></table></figure>

<ul>
<li>é€šè¿‡<code>gin.Default()</code>åˆ›å»ºçš„å®ä¾‹ä¼šè‡ªå¸¦Loggerä¸­é—´ä»¶å’ŒRecoveryä¸­é—´ä»¶</li>
</ul>
<p>Recoveryä¸­é—´ä»¶çš„ä½œç”¨æ˜¯ï¼šå¦‚æœç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°panicä¸­æ–­äº†æœåŠ¡ï¼Œåˆ™Recoveryä¼šæ¢å¤ç¨‹åºæ‰§è¡Œï¼Œå¹¶è¿”å›æœåŠ¡å™¨500å†…éƒ¨é”™ è¯¯ã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">engine := gin.Default()</span><br></pre></td></tr></table></figure>

<h2 id="å¤„ç†HTTPè¯·æ±‚"><a href="#å¤„ç†HTTPè¯·æ±‚" class="headerlink" title="å¤„ç†HTTPè¯·æ±‚"></a>å¤„ç†HTTPè¯·æ±‚</h2><h3 id="é€šç”¨çš„è¯·æ±‚å¤„ç†"><a href="#é€šç”¨çš„è¯·æ±‚å¤„ç†" class="headerlink" title="é€šç”¨çš„è¯·æ±‚å¤„ç†"></a>é€šç”¨çš„è¯·æ±‚å¤„ç†</h3><h4 id="å¤„ç†GETè¯·æ±‚"><a href="#å¤„ç†GETè¯·æ±‚" class="headerlink" title="å¤„ç†GETè¯·æ±‚"></a>å¤„ç†GETè¯·æ±‚</h4><blockquote>
<p><code>default</code>ï¼šå¦‚æœæ²¡æœ‰è¯·æ±‚ï¼Œä¸ºå˜é‡èµ‹å€¼é»˜è®¤å€¼</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¼•æ“å¯¹è±¡</span></span><br><span class="line">engine := gin.Default()</span><br><span class="line"><span class="comment">// åˆ›å»ºæ§åˆ¶å™¨</span></span><br><span class="line">engine.Handle(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–GETè¯·æ±‚å‚æ•°</span></span><br><span class="line">    value := context.DefaultQuery(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;default&quot;</span>)</span><br><span class="line">    <span class="comment">// è¿”å›å“åº”æ•°æ®</span></span><br><span class="line">    context.Writer.Write([]<span class="type">byte</span>(value))</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å¼€å¯æœåŠ¡å™¨</span></span><br><span class="line">engine.Run()</span><br></pre></td></tr></table></figure>

<h4 id="å¤„ç†POSTè¯·æ±‚"><a href="#å¤„ç†POSTè¯·æ±‚" class="headerlink" title="å¤„ç†POSTè¯·æ±‚"></a>å¤„ç†POSTè¯·æ±‚</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¼•æ“å¯¹è±¡</span></span><br><span class="line">engine := gin.Default()</span><br><span class="line"><span class="comment">// åˆ›å»ºæ§åˆ¶å™¨</span></span><br><span class="line">engine.Handle(<span class="string">&quot;POST&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–POSTè¯·æ±‚å‚æ•°</span></span><br><span class="line">    value := context.PostForm(<span class="string">&quot;key&quot;</span>)</span><br><span class="line">    <span class="comment">// è¿”å›å“åº”æ•°æ®</span></span><br><span class="line">    context.Writer.Write([]<span class="type">byte</span>(value))</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å¼€å¯æœåŠ¡å™¨</span></span><br><span class="line">engine.Run()</span><br></pre></td></tr></table></figure>

<h4 id="å¤„ç†RESTfulçš„DELETEè¯·æ±‚"><a href="#å¤„ç†RESTfulçš„DELETEè¯·æ±‚" class="headerlink" title="å¤„ç†RESTfulçš„DELETEè¯·æ±‚"></a>å¤„ç†RESTfulçš„DELETEè¯·æ±‚</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¼•æ“å¯¹è±¡</span></span><br><span class="line">engine := gin.Default()</span><br><span class="line"><span class="comment">// åˆ›å»ºæ§åˆ¶å™¨</span></span><br><span class="line">engine.Handle(<span class="string">&quot;DELETE&quot;</span>, <span class="string">&quot;/:key&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è·å–POSTè¯·æ±‚å‚æ•°</span></span><br><span class="line">    value := context.Param(<span class="string">&quot;key&quot;</span>)</span><br><span class="line">    <span class="comment">// è¿”å›å“åº”æ•°æ®</span></span><br><span class="line">    context.Writer.Write([]<span class="type">byte</span>(value))</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å¼€å¯æœåŠ¡å™¨</span></span><br><span class="line">engine.Run()</span><br></pre></td></tr></table></figure>

<h2 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h2><h3 id="è·å–è¯·æ±‚è¡Œä¸­çš„æ•°æ®"><a href="#è·å–è¯·æ±‚è¡Œä¸­çš„æ•°æ®" class="headerlink" title="è·å–è¯·æ±‚è¡Œä¸­çš„æ•°æ®"></a>è·å–è¯·æ±‚è¡Œä¸­çš„æ•°æ®</h3><h4 id="è·å–è¯·æ±‚æ–¹å¼"><a href="#è·å–è¯·æ±‚æ–¹å¼" class="headerlink" title="è·å–è¯·æ±‚æ–¹å¼"></a>è·å–è¯·æ±‚æ–¹å¼</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Request.Method</span><br></pre></td></tr></table></figure>

<h4 id="è·å–è¯·æ±‚èµ„æºè·¯å¾„"><a href="#è·å–è¯·æ±‚èµ„æºè·¯å¾„" class="headerlink" title="è·å–è¯·æ±‚èµ„æºè·¯å¾„"></a>è·å–è¯·æ±‚èµ„æºè·¯å¾„</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path := context.FullPath();</span><br></pre></td></tr></table></figure>

<h4 id="è·å–è¯·æ±‚è€…çš„IPåœ°å€"><a href="#è·å–è¯·æ±‚è€…çš„IPåœ°å€" class="headerlink" title="è·å–è¯·æ±‚è€…çš„IPåœ°å€"></a>è·å–è¯·æ±‚è€…çš„IPåœ°å€</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.ClientIP()</span><br></pre></td></tr></table></figure>


<h3 id="è·å–è¯·æ±‚å¤´ä¸­çš„æ•°æ®"><a href="#è·å–è¯·æ±‚å¤´ä¸­çš„æ•°æ®" class="headerlink" title="è·å–è¯·æ±‚å¤´ä¸­çš„æ•°æ®"></a>è·å–è¯·æ±‚å¤´ä¸­çš„æ•°æ®</h3><blockquote>
<p><code>&lt;key&gt;</code>ï¼šè¯·æ±‚å¤´çš„é”®</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Request.Header.Get(<span class="string">&quot;&lt;key&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="è·å–è¯·æ±‚ä½“ä¸­çš„æ•°æ®"><a href="#è·å–è¯·æ±‚ä½“ä¸­çš„æ•°æ®" class="headerlink" title="è·å–è¯·æ±‚ä½“ä¸­çš„æ•°æ®"></a>è·å–è¯·æ±‚ä½“ä¸­çš„æ•°æ®</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.GetRawData()</span><br></pre></td></tr></table></figure>

<h3 id="è·å–è¯·æ±‚æºå¸¦çš„å‚æ•°"><a href="#è·å–è¯·æ±‚æºå¸¦çš„å‚æ•°" class="headerlink" title="è·å–è¯·æ±‚æºå¸¦çš„å‚æ•°"></a>è·å–è¯·æ±‚æºå¸¦çš„å‚æ•°</h3><h4 id="è·å–queryå‚æ•°"><a href="#è·å–queryå‚æ•°" class="headerlink" title="è·å–queryå‚æ•°"></a>è·å–queryå‚æ•°</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value := context.Query(<span class="string">&quot;key&quot;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼"><a href="#æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼" class="headerlink" title="æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼"></a>æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼</h5><blockquote>
<p><code>default</code>ï¼šå¦‚æœæ²¡æœ‰è¯·æ±‚ï¼Œä¸ºå˜é‡èµ‹å€¼é»˜è®¤å€¼</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value := context.DefaultQuery(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;default&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="è·å–formå‚æ•°"><a href="#è·å–formå‚æ•°" class="headerlink" title="è·å–formå‚æ•°"></a>è·å–formå‚æ•°</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value := context.PostForm(<span class="string">&quot;key&quot;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="å‚æ•°æ˜¯å¦å­˜åœ¨"><a href="#å‚æ•°æ˜¯å¦å­˜åœ¨" class="headerlink" title="å‚æ•°æ˜¯å¦å­˜åœ¨"></a>å‚æ•°æ˜¯å¦å­˜åœ¨</h5><blockquote>
<p><code>exist</code>ï¼šå¦‚æœå­˜åœ¨æŒ‡å®šå‚æ•°ï¼Œåˆ™è¿”å›trueï¼›å¦‚æœä¸å­˜åœ¨æŒ‡å®šå‚æ•°ï¼Œåˆ™è¿”å›false</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value, exist := context.GetPostForm(<span class="string">&quot;key&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="è·å–ä»»æ„åœ°æ–¹çš„è¯·æ±‚å‚æ•°"><a href="#è·å–ä»»æ„åœ°æ–¹çš„è¯·æ±‚å‚æ•°" class="headerlink" title="è·å–ä»»æ„åœ°æ–¹çš„è¯·æ±‚å‚æ•°"></a>è·å–ä»»æ„åœ°æ–¹çš„è¯·æ±‚å‚æ•°</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value := context.Param(<span class="string">&quot;key&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="è¡¨å•å‚æ•°å®ä½“ç»‘å®š"><a href="#è¡¨å•å‚æ•°å®ä½“ç»‘å®š" class="headerlink" title="è¡¨å•å‚æ•°å®ä½“ç»‘å®š"></a>è¡¨å•å‚æ•°å®ä½“ç»‘å®š</h2><h3 id="ä¼ é€’queryå‚æ•°"><a href="#ä¼ é€’queryå‚æ•°" class="headerlink" title="ä¼ é€’queryå‚æ•°"></a>ä¼ é€’queryå‚æ•°</h3><figure class="highlight http"><figcaption><span>request</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http://127.0.0.1:8080/api?username=1&amp;password=1</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Username <span class="type">string</span> <span class="string">`form:&quot;username&quot;`</span></span><br><span class="line">    Password <span class="type">string</span> <span class="string">`form:&quot;password&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user User</span><br><span class="line">err := context.ShouldBindQuery(&amp;user)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    log.Fatal(err.Error())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¼ é€’JSONå‚æ•°"><a href="#ä¼ é€’JSONå‚æ•°" class="headerlink" title="ä¼ é€’JSONå‚æ•°"></a>ä¼ é€’JSONå‚æ•°</h3><figure class="highlight http"><figcaption><span>request</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST http://127.0.0.1:8080/api</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"></span><br><span class="line">&#123;&quot;username&quot;: 1, &quot;password&quot;: 1&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Username <span class="type">string</span> <span class="string">`json:&quot;username&quot;`</span></span><br><span class="line">    Password <span class="type">string</span> <span class="string">`json:&quot;password&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user User</span><br><span class="line">err := context.ShouldBindJSON(&amp;user)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¼ é€’uriå‚æ•°"><a href="#ä¼ é€’uriå‚æ•°" class="headerlink" title="ä¼ é€’uriå‚æ•°"></a>ä¼ é€’uriå‚æ•°</h3><figure class="highlight http"><figcaption><span>request</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http://127.0.0.1:8080/api/:username/:password</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Username <span class="type">string</span> <span class="string">`uri:&quot;username&quot;`</span></span><br><span class="line">    Password <span class="type">string</span> <span class="string">`uri:&quot;password&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user User</span><br><span class="line">err := context.ShouldBindUri(&amp;user)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªåŠ¨æ˜ å°„ç»“æ„ä½“"><a href="#è‡ªåŠ¨æ˜ å°„ç»“æ„ä½“" class="headerlink" title="è‡ªåŠ¨æ˜ å°„ç»“æ„ä½“"></a>è‡ªåŠ¨æ˜ å°„ç»“æ„ä½“</h3><ul>
<li>æ ¹æ®è¯·æ±‚å¤´ä¸­çš„<code>Content-Type</code>è‡ªåŠ¨æ˜ å°„ç»“æ„ä½“</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Username <span class="type">string</span> <span class="string">`form:&quot;username&quot; json:&quot;username&quot;`</span></span><br><span class="line">    Password <span class="type">string</span> <span class="string">`form:&quot;password&quot; json:&quot;password&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user User</span><br><span class="line">err := context.ShouldBindJSON(&amp;user)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¡¨å•å‚æ•°æ ¡éªŒ"><a href="#è¡¨å•å‚æ•°æ ¡éªŒ" class="headerlink" title="è¡¨å•å‚æ•°æ ¡éªŒ"></a>è¡¨å•å‚æ•°æ ¡éªŒ</h2><h3 id="è‡ªå®šä¹‰æ ¡éªŒå‡½æ•°"><a href="#è‡ªå®šä¹‰æ ¡éªŒå‡½æ•°" class="headerlink" title="è‡ªå®šä¹‰æ ¡éªŒå‡½æ•°"></a>è‡ªå®šä¹‰æ ¡éªŒå‡½æ•°</h3><blockquote>
<p><code>required</code>ï¼šå¿…å¡«é¡¹æ ¡éªŒ</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Username <span class="type">string</span> <span class="string">`form:&quot;username&quot; json:&quot;username&quot; uri:&quot;username&quot; binding:&quot;required&quot;`</span></span><br><span class="line">    Password <span class="type">string</span> <span class="string">`form:&quot;password&quot; json:&quot;password&quot; uri:&quot;password&quot; binding:&quot;required,validateFunction&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">validateFunction</span><span class="params">(fieldLevel validator.FieldLevel)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (fieldLevel.field().Interface().(<span class="type">string</span>) == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h2><h3 id="è·å–å“åº”è¡Œçš„æ•°æ®"><a href="#è·å–å“åº”è¡Œçš„æ•°æ®" class="headerlink" title="è·å–å“åº”è¡Œçš„æ•°æ®"></a>è·å–å“åº”è¡Œçš„æ•°æ®</h3><h4 id="è·å–å“åº”çŠ¶æ€ç "><a href="#è·å–å“åº”çŠ¶æ€ç " class="headerlink" title="è·å–å“åº”çŠ¶æ€ç "></a>è·å–å“åº”çŠ¶æ€ç </h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Writer.Status()</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®å“åº”å¤´çš„æ•°æ®"><a href="#è®¾ç½®å“åº”å¤´çš„æ•°æ®" class="headerlink" title="è®¾ç½®å“åº”å¤´çš„æ•°æ®"></a>è®¾ç½®å“åº”å¤´çš„æ•°æ®</h3><h4 id="è®¾ç½®æŒ‡å®šè¯·æ±‚å¤´çš„æ•°æ®"><a href="#è®¾ç½®æŒ‡å®šè¯·æ±‚å¤´çš„æ•°æ®" class="headerlink" title="è®¾ç½®æŒ‡å®šè¯·æ±‚å¤´çš„æ•°æ®"></a>è®¾ç½®æŒ‡å®šè¯·æ±‚å¤´çš„æ•°æ®</h4><blockquote>
<p><code>&lt;key&gt;</code>ï¼šå“åº”å¤´é”®<br><code>&lt;key&gt;</code>ï¼šå“åº”å¤´å€¼</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Writer.Header().Set(<span class="string">&quot;&lt;key&gt;&quot;</span>, <span class="string">&quot;&lt;value&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Header(<span class="string">&quot;&lt;key&gt;&quot;</span>, <span class="string">&quot;&lt;value&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Set(<span class="string">&quot;&lt;key&gt;&quot;</span>, <span class="string">&quot;&lt;value&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®å“åº”æ•°æ®"><a href="#è®¾ç½®å“åº”æ•°æ®" class="headerlink" title="è®¾ç½®å“åº”æ•°æ®"></a>è®¾ç½®å“åº”æ•°æ®</h3><h4 id="è¿”å›å­—èŠ‚æ•°ç»„"><a href="#è¿”å›å­—èŠ‚æ•°ç»„" class="headerlink" title="è¿”å›å­—èŠ‚æ•°ç»„"></a>è¿”å›å­—èŠ‚æ•°ç»„</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Writer.Writer([]<span class="type">byte</span>(<span class="string">&quot;&quot;</span>))</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›å­—ç¬¦ä¸²"><a href="#è¿”å›å­—ç¬¦ä¸²" class="headerlink" title="è¿”å›å­—ç¬¦ä¸²"></a>è¿”å›å­—ç¬¦ä¸²</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Writer.WriterString(<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›JSONæ ¼å¼å­—ç¬¦ä¸²"><a href="#è¿”å›JSONæ ¼å¼å­—ç¬¦ä¸²" class="headerlink" title="è¿”å›JSONæ ¼å¼å­—ç¬¦ä¸²"></a>è¿”å›JSONæ ¼å¼å­—ç¬¦ä¸²</h4><h5 id="Mapè½¬æ¢ä¸ºJSON"><a href="#Mapè½¬æ¢ä¸ºJSON" class="headerlink" title="Mapè½¬æ¢ä¸ºJSON"></a>Mapè½¬æ¢ä¸ºJSON</h5><blockquote>
<p><code>http.StatusOK</code>ï¼š200</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">context.JSON(http.StatusOK, <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">    <span class="string">&quot;code&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">    <span class="string">&quot;data&quot;</span>: æ•°æ®,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="ç»“æ„ä½“è½¬æ¢ä¸ºJSON"><a href="#ç»“æ„ä½“è½¬æ¢ä¸ºJSON" class="headerlink" title="ç»“æ„ä½“è½¬æ¢ä¸ºJSON"></a>ç»“æ„ä½“è½¬æ¢ä¸ºJSON</h5><blockquote>
<p><code>http.StatusOK</code>ï¼š200</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Response <span class="keyword">struct</span> &#123;</span><br><span class="line">    Code <span class="type">int</span></span><br><span class="line">    Msg <span class="type">string</span></span><br><span class="line">    Date <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">resp := Response&#123;</span><br><span class="line">    code: <span class="number">1</span>,</span><br><span class="line">    message: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">    data: æ•°æ®</span><br><span class="line">&#125;</span><br><span class="line">context.JSON(http.StatusOK, &amp;resp)</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›HTMLé¡µé¢"><a href="#è¿”å›HTMLé¡µé¢" class="headerlink" title="è¿”å›HTMLé¡µé¢"></a>è¿”å›HTMLé¡µé¢</h4><p><a href="/2023/07/13/Gin%E7%9A%84%E6%A8%A1%E7%89%88%E6%B8%B2%E6%9F%93/">ä¼ é€é—¨</a></p>
<h2 id="è·¯ç”±ç»„"><a href="#è·¯ç”±ç»„" class="headerlink" title="è·¯ç”±ç»„"></a>è·¯ç”±ç»„</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¼•æ“å¯¹è±¡</span></span><br><span class="line">engine := gin.Default()</span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±ç»„</span></span><br><span class="line">routerGroup := engine.Group(<span class="string">&quot;/user&quot;</span>)</span><br><span class="line">routerGroup.POST(<span class="string">&quot;/login&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">    context.Writer.WriteString(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">routerGroup.POST(<span class="string">&quot;/register&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">    context.Writer.WriteString(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å¼€å¯æœåŠ¡å™¨</span></span><br><span class="line">engine.Run()</span><br></pre></td></tr></table></figure>

<h3 id="æŠ½ç¦»è·¯ç”±"><a href="#æŠ½ç¦»è·¯ç”±" class="headerlink" title="æŠ½ç¦»è·¯ç”±"></a>æŠ½ç¦»è·¯ç”±</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// åˆ›å»ºå¼•æ“å¯¹è±¡</span></span><br><span class="line">	engine := gin.Default()</span><br><span class="line">	<span class="comment">// åˆ›å»ºè·¯ç”±ç»„</span></span><br><span class="line">	routerGroup := engine.Group(<span class="string">&quot;/user&quot;</span>)</span><br><span class="line">	routerGroup.POST(<span class="string">&quot;/register&quot;</span>, register)</span><br><span class="line">	routerGroup.POST(<span class="string">&quot;/login&quot;</span>, login)</span><br><span class="line">	<span class="comment">// å¼€å¯æœåŠ¡å™¨</span></span><br><span class="line">	engine.Run()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">login</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">	context.Writer.WriteString(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">register</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">	context.Writer.WriteString(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h2><p>ä¸¾ä¾‹ï¼šå®šä¹‰ä¸€ä¸ªä¸­é—´ä»¶ï¼Œç”¨äºæ‰“å°è¯·æ±‚æ–¹å¼ä¸è¯·æ±‚è·¯å¾„</p>
<h3 id="å®šä¹‰ä¸­é—´ä»¶å‡½æ•°"><a href="#å®šä¹‰ä¸­é—´ä»¶å‡½æ•°" class="headerlink" title="å®šä¹‰ä¸­é—´ä»¶å‡½æ•°"></a>å®šä¹‰ä¸­é—´ä»¶å‡½æ•°</h3><ul>
<li>ä¸­é—´ä»¶å‡½æ•°è¿”å›HandleFuncç±»å‹</li>
</ul>
<blockquote>
<p><code>context.Next()</code>ï¼šé‡åˆ°Nextå‡½æ•°ç«‹å³è·³åˆ°ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è¯·æ±‚å¤„ç†å‡½æ•°<br><code>context.Abort()</code>ï¼šé‡åˆ°Abortå‡½æ•°ç«‹å³ç»ˆæ­¢åé¢çš„ä»£ç </p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> ä¸­é—´ä»¶å‡½æ•°å<span class="params">()</span></span> gin.HandlerFunc &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">		<span class="comment">// å¤„ç†ä¸šåŠ¡ä¹‹å‰çš„ä»£ç </span></span><br><span class="line">		<span class="keyword">if</span> å¸ƒå°”è¡¨è¾¾å¼ &#123;</span><br><span class="line">            context.Abort()</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        context.Next()</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// å¤„ç†ä¸šåŠ¡ä¹‹åçš„ä»£ç </span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æŒ‚è½½ä¸­é—´ä»¶"><a href="#æŒ‚è½½ä¸­é—´ä»¶" class="headerlink" title="æŒ‚è½½ä¸­é—´ä»¶"></a>æŒ‚è½½ä¸­é—´ä»¶</h3><h4 id="ä¸ºå…¨å±€æŒ‚è½½ä¸­é—´ä»¶"><a href="#ä¸ºå…¨å±€æŒ‚è½½ä¸­é—´ä»¶" class="headerlink" title="ä¸ºå…¨å±€æŒ‚è½½ä¸­é—´ä»¶"></a>ä¸ºå…¨å±€æŒ‚è½½ä¸­é—´ä»¶</h4><blockquote>
<p><code>printInfo()</code>ï¼šä¸­é—´ä»¶å‡½æ•°</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">engine.Use(ä¸­é—´ä»¶å‡½æ•°å())</span><br></pre></td></tr></table></figure>

<h5 id="æŒ‰é¡ºåºæŒ‚è½½å¤šä¸ªä¸­é—´ä»¶"><a href="#æŒ‰é¡ºåºæŒ‚è½½å¤šä¸ªä¸­é—´ä»¶" class="headerlink" title="æŒ‰é¡ºåºæŒ‚è½½å¤šä¸ªä¸­é—´ä»¶"></a>æŒ‰é¡ºåºæŒ‚è½½å¤šä¸ªä¸­é—´ä»¶</h5><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">engine.Use(ä¸­é—´ä»¶å‡½æ•°å(), ä¸­é—´ä»¶å‡½æ•°å())</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">engine.Use(ä¸­é—´ä»¶å‡½æ•°å()).Use(ä¸­é—´ä»¶å‡½æ•°å())</span><br></pre></td></tr></table></figure>

<h4 id="ä¸ºæŒ‡å®šå¤„ç†å™¨æŒ‚è½½ä¸­é—´ä»¶"><a href="#ä¸ºæŒ‡å®šå¤„ç†å™¨æŒ‚è½½ä¸­é—´ä»¶" class="headerlink" title="ä¸ºæŒ‡å®šå¤„ç†å™¨æŒ‚è½½ä¸­é—´ä»¶"></a>ä¸ºæŒ‡å®šå¤„ç†å™¨æŒ‚è½½ä¸­é—´ä»¶</h4><blockquote>
<p><code>printInfo()</code>ï¼šä¸­é—´ä»¶å‡½æ•°</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">engine.Handle(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/&quot;</span>, ä¸­é—´ä»¶å‡½æ•°å(), <span class="function"><span class="keyword">func</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="ä¸ºè·¯ç”±ç»„æŒ‚è½½ä¸­é—´ä»¶"><a href="#ä¸ºè·¯ç”±ç»„æŒ‚è½½ä¸­é—´ä»¶" class="headerlink" title="ä¸ºè·¯ç”±ç»„æŒ‚è½½ä¸­é—´ä»¶"></a>ä¸ºè·¯ç”±ç»„æŒ‚è½½ä¸­é—´ä»¶</h4><ul>
<li>è¢«æŒ‚è½½çš„ä¸­é—´ä»¶åªåœ¨æŒ‡å®šçš„è·¯ç”±ç»„ä¸­ç”Ÿæ•ˆ</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> routerGroup = engine.Group(<span class="string">&quot;/&quot;</span>)</span><br><span class="line">routerGroup.Use(ä¸­é—´ä»¶å‡½æ•°å())</span><br><span class="line">routerGroup.GET(<span class="string">&quot;&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h2><ul>
<li>æ¥æ”¶å‰ç«¯ä¸Šä¼ çš„æ–‡ä»¶</li>
</ul>
<h3 id="æ¥æ”¶å•æ–‡ä»¶"><a href="#æ¥æ”¶å•æ–‡ä»¶" class="headerlink" title="æ¥æ”¶å•æ–‡ä»¶"></a>æ¥æ”¶å•æ–‡ä»¶</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file, err := context.FormFile(<span class="string">&quot;key&quot;</span>)</span><br><span class="line">err := context.SaveUploadedFile(file, <span class="string">&quot;./&quot;</span>+file.Filename)</span><br></pre></td></tr></table></figure>

<h3 id="æ¥æ”¶å¤šæ–‡ä»¶"><a href="#æ¥æ”¶å¤šæ–‡ä»¶" class="headerlink" title="æ¥æ”¶å¤šæ–‡ä»¶"></a>æ¥æ”¶å¤šæ–‡ä»¶</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">form, err := context.MultipartForm()</span><br><span class="line">fileList, err := form.File[<span class="string">&quot;key_1&quot;</span>, <span class="string">&quot;key_2&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> _, file := <span class="keyword">range</span> fileList &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h2><h3 id="è¾“å‡ºä½ç½®"><a href="#è¾“å‡ºä½ç½®" class="headerlink" title="è¾“å‡ºä½ç½®"></a>è¾“å‡ºä½ç½®</h3><h4 id="ä»…è¾“å‡ºåˆ°æ§åˆ¶å°ï¼ˆç¼ºçœå€¼ï¼‰"><a href="#ä»…è¾“å‡ºåˆ°æ§åˆ¶å°ï¼ˆç¼ºçœå€¼ï¼‰" class="headerlink" title="ä»…è¾“å‡ºåˆ°æ§åˆ¶å°ï¼ˆç¼ºçœå€¼ï¼‰"></a>ä»…è¾“å‡ºåˆ°æ§åˆ¶å°ï¼ˆç¼ºçœå€¼ï¼‰</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gin.DefaultWriter = io.MultiWriter(os.Stdout)</span><br></pre></td></tr></table></figure>

<h4 id="ä»…è¾“å‡ºåˆ°æ–‡ä»¶"><a href="#ä»…è¾“å‡ºåˆ°æ–‡ä»¶" class="headerlink" title="ä»…è¾“å‡ºåˆ°æ–‡ä»¶"></a>ä»…è¾“å‡ºåˆ°æ–‡ä»¶</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Create(<span class="string">&quot;gin.log&quot;</span>)</span><br><span class="line">gin.DefaultWriter = io.MultiWriter(f)</span><br></pre></td></tr></table></figure>

<h4 id="åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶"><a href="#åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶" class="headerlink" title="åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶"></a>åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Create(<span class="string">&quot;gin.log&quot;</span>)</span><br><span class="line">gin.DefaultWriter = io.MultiWriter(os.Stdout, f)</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼"><a href="#è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼" class="headerlink" title="è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼"></a>è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">router.Use(gin.LoggerWithFormatter(<span class="function"><span class="keyword">func</span><span class="params">(param gin.LogFormatterParams)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;%s %s %s %s %s %d %s %s %s\n&quot;</span>,</span><br><span class="line">        param.ClientIP,</span><br><span class="line">        param.TimeStamp.Format(time.RFC1123),</span><br><span class="line">        param.Method,</span><br><span class="line">        param.Path,</span><br><span class="line">        param.Request.Proto,</span><br><span class="line">        param.StatusCode,</span><br><span class="line">        param.Latency,</span><br><span class="line">        param.Request.UserAgent(),</span><br><span class="line">        param.ErrorMessage,</span><br><span class="line">    )</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Fy4y117jJ/">å“”å“©å“”å“©â€”â€”80æŠ€æœ¯</a><br><a target="_blank" rel="noopener" href="https://www.perfcode.com/p/gin-get-real-ClientIP.html">å®Œç¾ä»£ç </a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1XY4y1t76G">å“”å“©å“”å“©â€”â€”ç­±ç­±çŸ¥æ™“</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gt4y1173C/">å“”å“©å“”å“©â€”â€”goåœˆé‡Œæœ€ä¼šå†™jsçš„å¥‡æ·¼</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV18C4y1p7Fe/">å“”å“©å“”å“©â€”â€”goåœˆé‡Œæœ€ä¼šå†™jsçš„å¥‡æ·¼</a><br><a target="_blank" rel="noopener" href="https://www.kancloud.cn/shuangdeyu/gin_book/949425">Ginä¸­æ–‡æ–‡æ¡£</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Goè¯­è¨€å­¦ä¹ æŒ‡åŒ—/">Goè¯­è¨€å­¦ä¹ æŒ‡åŒ—</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Go/">Go</a><a href="/tags/Gin/">Gin</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>