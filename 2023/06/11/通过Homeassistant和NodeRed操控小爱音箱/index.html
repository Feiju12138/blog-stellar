<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ã€ç¬”è®°ã€‘é€šè¿‡Homeassistantå’ŒNodeRedæ“æ§å°çˆ±éŸ³ç®± | ç»¯é çš„åšå®¢ | è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</title>

  
  <meta name="author" content="ç»¯é ">
  

  
  <meta name="description" content="æ•æ‰ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ">
  

  
  
  <meta name="keywords" content="SmartHome,Homeassistant,NodeRed">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="ã€ç¬”è®°ã€‘é€šè¿‡Homeassistantå’ŒNodeRedæ“æ§å°çˆ±éŸ³ç®±"/>

  <meta property="og:site_name" content="ç»¯é çš„åšå®¢"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ç»¯é çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ç»¯é çš„åšå®¢</a>
    </h1>
    <p class="site-description">è¿èœœç»Ÿæ²»ä¸–ç•Œ!!!ğŸ’•</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">ä¸»é¡µ</a></li>
      
        <li><a href="/about/">å…³äº</a></li>
      
        <li><a href="/tags/">æ ‡ç­¾</a></li>
      
        <li><a href="/categories/">åˆ†ç±»</a></li>
      
        <li><a href="/archives/">å½’æ¡£</a></li>
      
        <li><a href="/links/">å‹é“¾</a></li>
      
        <li><a href="/reward/">èµåŠ©</a></li>
      
        <li><a href="/atom.xml">è®¢é˜…</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">ä¸»é¢˜</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>ã€ç¬”è®°ã€‘é€šè¿‡Homeassistantå’ŒNodeRedæ“æ§å°çˆ±éŸ³ç®±</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2023/06/11/é€šè¿‡Homeassistantå’ŒNodeRedæ“æ§å°çˆ±éŸ³ç®±/" rel="bookmark">
        <time class="entry-date published" datetime="2023-06-10T16:19:40.000Z">
          2023-06-11
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€šè¿‡Homeassistantå’ŒNodeRedæ“æ§å°çˆ±éŸ³ç®±ï¼Œè·å–å°çˆ±éŸ³ç®±çš„è¾“å…¥ï¼Œæ‰§è¡Œè‡ªå®šä¹‰çš„ç¨‹åºï¼Œå®ç°è‡ªå®šä¹‰åŠŸèƒ½</p>
<span id="more"></span>

<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ul>
<li>éƒ¨ç½²HA</li>
</ul>
<p><a href="/2023/05/04/%E9%80%9A%E8%BF%87Docker%E9%83%A8%E7%BD%B2Homeassistant/">ä¼ é€é—¨</a></p>
<ul>
<li>éƒ¨ç½²NodeRed</li>
</ul>
<p><a href="/2023/05/20/%E9%80%9A%E8%BF%87Docker%E9%83%A8%E7%BD%B2NodeRed/">ä¼ é€é—¨</a></p>
<h2 id="åœ¨HAä¸­ä¸‹è½½å°ç±³æ’ä»¶"><a href="#åœ¨HAä¸­ä¸‹è½½å°ç±³æ’ä»¶" class="headerlink" title="åœ¨HAä¸­ä¸‹è½½å°ç±³æ’ä»¶"></a>åœ¨HAä¸­ä¸‹è½½å°ç±³æ’ä»¶</h2><ul>
<li>ä¸‹è½½<code>Xiaomi Miot Auto</code>æ’ä»¶ï¼Œå› ä¸ºè¿™ä¸ªæ’ä»¶ä¸­åŒ…å«äº†è·å–å°çˆ±éŸ³ç®±çš„è¾“å…¥çš„<code>conversation</code>æ¥å£ï¼Œç”¨äºæ¥æ”¶å°çˆ±æ”¶åˆ°çš„å†…å®¹</li>
</ul>
<h3 id="é€šè¿‡HACSä¸‹è½½"><a href="#é€šè¿‡HACSä¸‹è½½" class="headerlink" title="é€šè¿‡HACSä¸‹è½½"></a>é€šè¿‡HACSä¸‹è½½</h3><p><img src="/images/20230611001940/01.webp"><br><img src="/images/20230611001940/02.webp"></p>
<ul>
<li><code>å¼€å‘è€…å·¥å…·</code>-&gt;<code>é‡æ–°å¯åŠ¨</code>-&gt;<code>é‡æ–°å¯åŠ¨ Home Assistant</code></li>
</ul>
<p><img src="/images/20230504212823/05.webp"></p>
<p>ç­‰å¾…é‡å¯å®Œæˆ</p>
<h3 id="æ‰‹åŠ¨éƒ¨ç½²"><a href="#æ‰‹åŠ¨éƒ¨ç½²" class="headerlink" title="æ‰‹åŠ¨éƒ¨ç½²"></a>æ‰‹åŠ¨éƒ¨ç½²</h3><ul>
<li>åœ¨<a target="_blank" rel="noopener" href="https://github.com/al-one/hass-xiaomi-miot/releases">https://github.com/al-one/hass-xiaomi-miot/releases</a>ä¸‹è½½å‘è¡Œç‰ˆ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/al-one/hass-xiaomi-miot/releases/download/v0.7.13/xiaomi_miot.zip</span><br><span class="line">mkdir xiaomi_miot</span><br><span class="line">mv xiaomi_miot.zip ./xiaomi_miot/</span><br><span class="line">cd xiaomi_miot</span><br><span class="line">unzip xiaomi_miot.zip</span><br><span class="line">rm xiaomi_miot.zip</span><br><span class="line">cd ..</span><br><span class="line">mv xiaomi_miot /root/Homeassistant/config/custom_components</span><br></pre></td></tr></table></figure>

<ul>
<li><code>å¼€å‘è€…å·¥å…·</code>-&gt;<code>é‡æ–°å¯åŠ¨</code>-&gt;<code>é‡æ–°å¯åŠ¨ Home Assistant</code></li>
</ul>
<p><img src="/images/20230504212823/05.webp"></p>
<p>ç­‰å¾…é‡å¯å®Œæˆ</p>
<h2 id="è·å–HAçš„IPåœ°å€å’Œä»¤ç‰Œ"><a href="#è·å–HAçš„IPåœ°å€å’Œä»¤ç‰Œ" class="headerlink" title="è·å–HAçš„IPåœ°å€å’Œä»¤ç‰Œ"></a>è·å–HAçš„IPåœ°å€å’Œä»¤ç‰Œ</h2><ul>
<li>ä¸ªäººä¸­å¿ƒ-&gt;<code>åˆ›å»ºä»¤ç‰Œ</code>-&gt;æŒ‡å®šä»¤ç‰Œåç§°</li>
</ul>
<p><img src="/images/20230611001940/06.webp"></p>
<ul>
<li>å°†ä»¤ç‰Œå†…å®¹å¤åˆ¶</li>
</ul>
<p><img src="/images/20230611001940/07.webp"></p>
<h2 id="åœ¨NodeRedä¸­ä¸‹è½½HAæ’ä»¶å’Œå°çˆ±æ’ä»¶"><a href="#åœ¨NodeRedä¸­ä¸‹è½½HAæ’ä»¶å’Œå°çˆ±æ’ä»¶" class="headerlink" title="åœ¨NodeRedä¸­ä¸‹è½½HAæ’ä»¶å’Œå°çˆ±æ’ä»¶"></a>åœ¨NodeRedä¸­ä¸‹è½½HAæ’ä»¶å’Œå°çˆ±æ’ä»¶</h2><ul>
<li>å³ä¸Šè§’èœå•-&gt;<code>è®¾ç½®</code></li>
</ul>
<p><img src="/images/20230611001940/03.webp"></p>
<ul>
<li>å®‰è£…<code>node-red-contrib-home-assistant-websocket</code>æ’ä»¶å’Œ<code>node-red-contrib-xiaoai-tts</code>æ’ä»¶</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --no-audit --no-update-notifier --no-fund --save --save-prefix=~ --production --engine-strict node-red-contrib-home-assistant-websocket@0.59.0</span><br><span class="line">npm install --no-audit --no-update-notifier --no-fund --save --save-prefix=~ --production --engine-strict node-red-contrib-xiaoai-tts@1.0.5</span><br></pre></td></tr></table></figure>

<p><img src="/images/20230611001940/04.webp"></p>
<h2 id="éƒ¨ç½²NodeRed"><a href="#éƒ¨ç½²NodeRed" class="headerlink" title="éƒ¨ç½²NodeRed"></a>éƒ¨ç½²NodeRed</h2><ul>
<li>é…ç½®ä¸€ä¸ª<code>event:state</code>æ¨¡å—-&gt;ä¿®æ”¹Serveré…ç½®</li>
</ul>
<p><img src="/images/20230611001940/08.webp"></p>
<ul>
<li>æŒ‡å®šè®¿é—®HAçš„ipåœ°å€å’Œç«¯å£å·-&gt;æŒ‡å®šä»¤ç‰Œ-&gt;<code>æ›´æ–°</code></li>
</ul>
<p><img src="/images/20230611001940/09.webp"></p>
<ul>
<li>åœ¨<code>Entity</code>æœç´¢<code>conversation</code>é€‰æ‹©<code>å°çˆ±éŸ³ç®±Pro Play Control conversation</code>-&gt;<code>å®Œæˆ</code></li>
</ul>
<p><img src="/images/20230611001940/10.webp"></p>
<ul>
<li>é…ç½®ä¸€ä¸ª<code>swatch</code>æ¨¡å—ï¼Œç”¨äºæ¡ä»¶åˆ¤æ–­ï¼Œå½“å¯¹è¯ä¸­åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²æ—¶å‘åæ‰§è¡Œ-&gt;<code>å®Œæˆ</code></li>
</ul>
<p><img src="/images/20230611001940/11.webp"></p>
<ul>
<li>é…ç½®ä¸€ä¸ª<code>å°çˆ±ai service</code>æ¨¡å—ï¼Œç”¨äºå‘å°çˆ±å‘å‡ºä¸€æ¡æŒ‡ä»¤ï¼Œç›¸å½“äºå¯¹å°çˆ±è¯´äº†ä¸€å¥æŒ‡ä»¤-&gt;ç¼–è¾‘é…ç½®-&gt;è¾“å…¥å°ç±³è´¦å·å¯†ç -&gt;<code>æ·»åŠ </code>-&gt;é…ç½®<code>æŒ‡ä»¤</code>-&gt;<code>å®Œæˆ</code></li>
</ul>
<p>å¦‚æœæƒ³è¦å¬åˆ°é»˜è®¤çš„å›å¤ï¼Œå¯ä»¥å‹¾é€‰<code>æ’­æŠ¥ç»“æœ</code></p>
<p><img src="/images/20230611001940/12.webp"><br><img src="/images/20230611001940/13.webp"><br><img src="/images/20230611001940/14.webp"></p>
<ul>
<li>é…ç½®ä¸€ä¸ª<code>å°çˆ±tts</code>æ¨¡å—ï¼Œç”¨äºè‡ªå®šä¹‰å°çˆ±è¯´çš„è¯-&gt;é…ç½®<code>ttsæ–‡æœ¬</code>-&gt;<code>å®Œæˆ</code></li>
</ul>
<p><img src="/images/20230611001940/15.webp"></p>
<h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="/302.html?target=https://www.bilibili.com/video/BV1x94y197zy/">å“”å“©å“”å“©â€”â€”ä¸€ç›ç”µç¯</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/SmartHome/">SmartHome</a><a href="/tags/Homeassistant/">Homeassistant</a><a href="/tags/NodeRed/">NodeRed</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 ç»¯é 
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>